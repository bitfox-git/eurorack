ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ssd1306.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ssd1306_Reset,"ax",%progbits
  18              		.align	1
  19              		.global	ssd1306_Reset
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	ssd1306_Reset:
  27              	.LFB126:
  28              		.file 1 "Project/Display/ssd1306.c"
   1:Project/Display/ssd1306.c **** #include "ssd1306.h"
   2:Project/Display/ssd1306.c **** 
   3:Project/Display/ssd1306.c **** // Screenbuffer
   4:Project/Display/ssd1306.c **** uint8_t SSD1306_Buffer[SSD1306_WIDTH * SSD1306_HEIGHT / 8];
   5:Project/Display/ssd1306.c **** 
   6:Project/Display/ssd1306.c **** // Screen object
   7:Project/Display/ssd1306.c **** SSD1306_t SSD1306;
   8:Project/Display/ssd1306.c **** 
   9:Project/Display/ssd1306.c **** #if defined(SSD1306_USE_I2C)
  10:Project/Display/ssd1306.c **** 
  11:Project/Display/ssd1306.c **** void ssd1306_Reset(void) {
  29              		.loc 1 11 26 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  12:Project/Display/ssd1306.c **** 	/* for I2C - do nothing */
  13:Project/Display/ssd1306.c **** }
  34              		.loc 1 13 1 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE126:
  39              		.section	.text.ssd1306_WriteCommand,"ax",%progbits
  40              		.align	1
  41              		.global	ssd1306_WriteCommand
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	ssd1306_WriteCommand:
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 2


  48              	.LVL0:
  49              	.LFB127:
  14:Project/Display/ssd1306.c **** 
  15:Project/Display/ssd1306.c **** // Send a byte to the command register
  16:Project/Display/ssd1306.c **** void ssd1306_WriteCommand(uint8_t byte) {
  50              		.loc 1 16 41 view -0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 8
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54              		.loc 1 16 41 is_stmt 0 view .LVU3
  55 0000 00B5     		push	{lr}
  56              	.LCFI0:
  57              		.cfi_def_cfa_offset 4
  58              		.cfi_offset 14, -4
  59 0002 87B0     		sub	sp, sp, #28
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 32
  62 0004 8DF81700 		strb	r0, [sp, #23]
  17:Project/Display/ssd1306.c **** 	HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x00, 1, &byte, 1,HAL_MAX_DELAY);
  63              		.loc 1 17 2 is_stmt 1 view .LVU4
  64 0008 4FF0FF33 		mov	r3, #-1
  65 000c 0293     		str	r3, [sp, #8]
  66 000e 0123     		movs	r3, #1
  67 0010 0193     		str	r3, [sp, #4]
  68 0012 0DF11702 		add	r2, sp, #23
  69 0016 0092     		str	r2, [sp]
  70 0018 0022     		movs	r2, #0
  71 001a 7821     		movs	r1, #120
  72 001c 0248     		ldr	r0, .L4
  73              	.LVL1:
  74              		.loc 1 17 2 is_stmt 0 view .LVU5
  75 001e FFF7FEFF 		bl	HAL_I2C_Mem_Write
  76              	.LVL2:
  18:Project/Display/ssd1306.c **** }
  77              		.loc 1 18 1 view .LVU6
  78 0022 07B0     		add	sp, sp, #28
  79              	.LCFI2:
  80              		.cfi_def_cfa_offset 4
  81              		@ sp needed
  82 0024 5DF804FB 		ldr	pc, [sp], #4
  83              	.L5:
  84              		.align	2
  85              	.L4:
  86 0028 00000000 		.word	hi2c1
  87              		.cfi_endproc
  88              	.LFE127:
  90              		.section	.text.ssd1306_WriteMultipleCommand,"ax",%progbits
  91              		.align	1
  92              		.global	ssd1306_WriteMultipleCommand
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  96              		.fpu fpv4-sp-d16
  98              	ssd1306_WriteMultipleCommand:
  99              	.LVL3:
 100              	.LFB128:
  19:Project/Display/ssd1306.c **** void ssd1306_WriteMultipleCommand(uint8_t *byte, uint16_t size) {
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 3


 101              		.loc 1 19 65 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		.loc 1 19 65 is_stmt 0 view .LVU8
 106 0000 00B5     		push	{lr}
 107              	.LCFI3:
 108              		.cfi_def_cfa_offset 4
 109              		.cfi_offset 14, -4
 110 0002 85B0     		sub	sp, sp, #20
 111              	.LCFI4:
 112              		.cfi_def_cfa_offset 24
 113 0004 0B46     		mov	r3, r1
  20:Project/Display/ssd1306.c **** 	HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x00, size, byte, 1, HAL_MAX_DELAY);
 114              		.loc 1 20 2 is_stmt 1 view .LVU9
 115 0006 4FF0FF32 		mov	r2, #-1
 116 000a 0292     		str	r2, [sp, #8]
 117 000c 0122     		movs	r2, #1
 118 000e 0192     		str	r2, [sp, #4]
 119 0010 0090     		str	r0, [sp]
 120 0012 0022     		movs	r2, #0
 121 0014 7821     		movs	r1, #120
 122              	.LVL4:
 123              		.loc 1 20 2 is_stmt 0 view .LVU10
 124 0016 0348     		ldr	r0, .L8
 125              	.LVL5:
 126              		.loc 1 20 2 view .LVU11
 127 0018 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 128              	.LVL6:
  21:Project/Display/ssd1306.c **** 
  22:Project/Display/ssd1306.c **** }
 129              		.loc 1 22 1 view .LVU12
 130 001c 05B0     		add	sp, sp, #20
 131              	.LCFI5:
 132              		.cfi_def_cfa_offset 4
 133              		@ sp needed
 134 001e 5DF804FB 		ldr	pc, [sp], #4
 135              	.L9:
 136 0022 00BF     		.align	2
 137              	.L8:
 138 0024 00000000 		.word	hi2c1
 139              		.cfi_endproc
 140              	.LFE128:
 142              		.section	.text.ssd1306_WriteData,"ax",%progbits
 143              		.align	1
 144              		.global	ssd1306_WriteData
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 148              		.fpu fpv4-sp-d16
 150              	ssd1306_WriteData:
 151              	.LVL7:
 152              	.LFB129:
  23:Project/Display/ssd1306.c **** 
  24:Project/Display/ssd1306.c **** // Send data
  25:Project/Display/ssd1306.c **** void ssd1306_WriteData(uint8_t* buffer, size_t buff_size) {
 153              		.loc 1 25 59 is_stmt 1 view -0
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 4


 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              		.loc 1 25 59 is_stmt 0 view .LVU14
 158 0000 00B5     		push	{lr}
 159              	.LCFI6:
 160              		.cfi_def_cfa_offset 4
 161              		.cfi_offset 14, -4
 162 0002 85B0     		sub	sp, sp, #20
 163              	.LCFI7:
 164              		.cfi_def_cfa_offset 24
  26:Project/Display/ssd1306.c **** 	HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x40, 1, buffer, buff_size,HAL_MAX_DELAY);
 165              		.loc 1 26 2 is_stmt 1 view .LVU15
 166 0004 4FF0FF33 		mov	r3, #-1
 167 0008 0293     		str	r3, [sp, #8]
 168 000a 89B2     		uxth	r1, r1
 169              	.LVL8:
 170              		.loc 1 26 2 is_stmt 0 view .LVU16
 171 000c 0191     		str	r1, [sp, #4]
 172 000e 0090     		str	r0, [sp]
 173 0010 0123     		movs	r3, #1
 174 0012 4022     		movs	r2, #64
 175 0014 7821     		movs	r1, #120
 176 0016 0348     		ldr	r0, .L12
 177              	.LVL9:
 178              		.loc 1 26 2 view .LVU17
 179 0018 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 180              	.LVL10:
  27:Project/Display/ssd1306.c **** }
 181              		.loc 1 27 1 view .LVU18
 182 001c 05B0     		add	sp, sp, #20
 183              	.LCFI8:
 184              		.cfi_def_cfa_offset 4
 185              		@ sp needed
 186 001e 5DF804FB 		ldr	pc, [sp], #4
 187              	.L13:
 188 0022 00BF     		.align	2
 189              	.L12:
 190 0024 00000000 		.word	hi2c1
 191              		.cfi_endproc
 192              	.LFE129:
 194              		.section	.text.ssd1306_Fill,"ax",%progbits
 195              		.align	1
 196              		.global	ssd1306_Fill
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 200              		.fpu fpv4-sp-d16
 202              	ssd1306_Fill:
 203              	.LVL11:
 204              	.LFB131:
  28:Project/Display/ssd1306.c **** 
  29:Project/Display/ssd1306.c **** #elif defined(SSD1306_USE_SPI)
  30:Project/Display/ssd1306.c **** 
  31:Project/Display/ssd1306.c **** void ssd1306_Reset(void) {
  32:Project/Display/ssd1306.c **** 	// CS = High (not selected)
  33:Project/Display/ssd1306.c **** 	HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET);
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 5


  34:Project/Display/ssd1306.c **** 
  35:Project/Display/ssd1306.c **** 	// Reset the OLED
  36:Project/Display/ssd1306.c **** 	HAL_GPIO_WritePin(SSD1306_Reset_Port, SSD1306_Reset_Pin, GPIO_PIN_RESET);
  37:Project/Display/ssd1306.c **** 	HAL_Delay(10);
  38:Project/Display/ssd1306.c **** 	HAL_GPIO_WritePin(SSD1306_Reset_Port, SSD1306_Reset_Pin, GPIO_PIN_SET);
  39:Project/Display/ssd1306.c **** 	HAL_Delay(10);
  40:Project/Display/ssd1306.c **** }
  41:Project/Display/ssd1306.c **** 
  42:Project/Display/ssd1306.c **** // Send a byte to the command register
  43:Project/Display/ssd1306.c **** void ssd1306_WriteCommand(uint8_t byte) {
  44:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_RESET); // select OLED
  45:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_DC_Port, SSD1306_DC_Pin, GPIO_PIN_RESET); // command
  46:Project/Display/ssd1306.c ****     HAL_SPI_Transmit(&SSD1306_SPI_PORT, (uint8_t *) &byte, 1, HAL_MAX_DELAY);
  47:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET); // un-select OLED
  48:Project/Display/ssd1306.c **** }
  49:Project/Display/ssd1306.c **** 
  50:Project/Display/ssd1306.c **** // Send data
  51:Project/Display/ssd1306.c **** void ssd1306_WriteData(uint8_t* buffer, size_t buff_size) {
  52:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_RESET); // select OLED
  53:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_DC_Port, SSD1306_DC_Pin, GPIO_PIN_SET); // data
  54:Project/Display/ssd1306.c ****     HAL_SPI_Transmit(&SSD1306_SPI_PORT, buffer, buff_size, HAL_MAX_DELAY);
  55:Project/Display/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET); // un-select OLED
  56:Project/Display/ssd1306.c **** }
  57:Project/Display/ssd1306.c **** 
  58:Project/Display/ssd1306.c **** #else
  59:Project/Display/ssd1306.c **** #error "You should define SSD1306_USE_SPI or SSD1306_USE_I2C macro"
  60:Project/Display/ssd1306.c **** #endif
  61:Project/Display/ssd1306.c **** 
  62:Project/Display/ssd1306.c **** 
  63:Project/Display/ssd1306.c **** 
  64:Project/Display/ssd1306.c **** 
  65:Project/Display/ssd1306.c **** // Initialize the oled screen
  66:Project/Display/ssd1306.c **** void ssd1306_Init(void) {
  67:Project/Display/ssd1306.c **** 	// Reset OLED
  68:Project/Display/ssd1306.c **** 	ssd1306_Reset();
  69:Project/Display/ssd1306.c **** 
  70:Project/Display/ssd1306.c ****     // Wait for the screen to boot
  71:Project/Display/ssd1306.c ****     HAL_Delay(100);
  72:Project/Display/ssd1306.c ****     
  73:Project/Display/ssd1306.c ****     // Init OLED
  74:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xAE); //display off
  75:Project/Display/ssd1306.c **** 
  76:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x20); //Set Memory Addressing Mode   
  77:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x00); // 00b,Horizontal Addressing Mode; 01b,Vertical Addressing Mode;
  78:Project/Display/ssd1306.c ****                                 // 10b,Page Addressing Mode (RESET); 11b,Invalid
  79:Project/Display/ssd1306.c **** 
  80:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xB0); //Set Page Start Address for Page Addressing Mode,0-7
  81:Project/Display/ssd1306.c **** 
  82:Project/Display/ssd1306.c **** #ifdef SSD1306_MIRROR_VERT
  83:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xC0); // Mirror vertically
  84:Project/Display/ssd1306.c **** #else
  85:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xC8); //Set COM Output Scan Direction
  86:Project/Display/ssd1306.c **** #endif
  87:Project/Display/ssd1306.c **** 
  88:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x00); //---set low column address
  89:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x10); //---set high column address
  90:Project/Display/ssd1306.c **** 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 6


  91:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x40); //--set start line address - CHECK
  92:Project/Display/ssd1306.c **** 
  93:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x81); //--set contrast control register - CHECK
  94:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xFF);
  95:Project/Display/ssd1306.c **** 
  96:Project/Display/ssd1306.c **** #ifdef SSD1306_MIRROR_HORIZ
  97:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA0); // Mirror horizontally
  98:Project/Display/ssd1306.c **** #else
  99:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA1); //--set segment re-map 0 to 127 - CHECK
 100:Project/Display/ssd1306.c **** #endif
 101:Project/Display/ssd1306.c **** 
 102:Project/Display/ssd1306.c **** #ifdef SSD1306_INVERSE_COLOR
 103:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA7); //--set inverse color
 104:Project/Display/ssd1306.c **** #else
 105:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA6); //--set normal color
 106:Project/Display/ssd1306.c **** #endif
 107:Project/Display/ssd1306.c **** 
 108:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA8); //--set multiplex ratio(1 to 64) - CHECK
 109:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x3F); //
 110:Project/Display/ssd1306.c **** 
 111:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xA4); //0xa4,Output follows RAM content;0xa5,Output ignores RAM content
 112:Project/Display/ssd1306.c **** 
 113:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xD3); //-set display offset - CHECK
 114:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x00); //-not offset
 115:Project/Display/ssd1306.c **** 
 116:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xD5); //--set display clock divide ratio/oscillator frequency
 117:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xF0); //--set divide ratio
 118:Project/Display/ssd1306.c **** 
 119:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xD9); //--set pre-charge period
 120:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x22); //
 121:Project/Display/ssd1306.c **** 
 122:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xDA); //--set com pins hardware configuration - CHECK
 123:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x12);
 124:Project/Display/ssd1306.c **** 
 125:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xDB); //--set vcomh
 126:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x10); //0x20,0.77xVcc
 127:Project/Display/ssd1306.c **** 
 128:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x8D); //--set DC-DC enable
 129:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x14); //
 130:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xAF); //--turn on SSD1306 panel
 131:Project/Display/ssd1306.c **** 
 132:Project/Display/ssd1306.c ****     // Clear screen
 133:Project/Display/ssd1306.c ****     ssd1306_Fill(Black);
 134:Project/Display/ssd1306.c ****     
 135:Project/Display/ssd1306.c ****     // Flush buffer to screen
 136:Project/Display/ssd1306.c ****     ssd1306_UpdateScreen();
 137:Project/Display/ssd1306.c ****     
 138:Project/Display/ssd1306.c ****     // Set default values for screen object
 139:Project/Display/ssd1306.c ****     SSD1306.CurrentX = 0;
 140:Project/Display/ssd1306.c ****     SSD1306.CurrentY = 0;
 141:Project/Display/ssd1306.c ****     
 142:Project/Display/ssd1306.c ****     SSD1306.Initialized = 1;
 143:Project/Display/ssd1306.c **** }
 144:Project/Display/ssd1306.c **** 
 145:Project/Display/ssd1306.c **** // Fill the whole screen with the given color
 146:Project/Display/ssd1306.c **** void ssd1306_Fill(SSD1306_COLOR color) {
 205              		.loc 1 146 40 is_stmt 1 view -0
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 7


 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209              		@ link register save eliminated.
 147:Project/Display/ssd1306.c ****     /* Set memory */
 148:Project/Display/ssd1306.c ****     uint32_t i;
 210              		.loc 1 148 5 view .LVU20
 149:Project/Display/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 211              		.loc 1 149 5 view .LVU21
 212              		.loc 1 149 11 is_stmt 0 view .LVU22
 213 0000 0023     		movs	r3, #0
 214              		.loc 1 149 5 view .LVU23
 215 0002 03E0     		b	.L15
 216              	.LVL12:
 217              	.L18:
 150:Project/Display/ssd1306.c ****         SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 218              		.loc 1 150 27 view .LVU24
 219 0004 FF21     		movs	r1, #255
 220              	.L16:
 221              		.loc 1 150 27 discriminator 4 view .LVU25
 222 0006 054A     		ldr	r2, .L20
 223 0008 D154     		strb	r1, [r2, r3]
 149:Project/Display/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 224              		.loc 1 149 44 is_stmt 1 discriminator 4 view .LVU26
 149:Project/Display/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 225              		.loc 1 149 45 is_stmt 0 discriminator 4 view .LVU27
 226 000a 0133     		adds	r3, r3, #1
 227              	.LVL13:
 228              	.L15:
 149:Project/Display/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 229              		.loc 1 149 16 is_stmt 1 discriminator 2 view .LVU28
 149:Project/Display/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 230              		.loc 1 149 5 is_stmt 0 discriminator 2 view .LVU29
 231 000c B3F5806F 		cmp	r3, #1024
 232 0010 03D2     		bcs	.L19
 233              		.loc 1 150 9 is_stmt 1 view .LVU30
 234              		.loc 1 150 27 is_stmt 0 view .LVU31
 235 0012 0028     		cmp	r0, #0
 236 0014 F6D1     		bne	.L18
 237 0016 0146     		mov	r1, r0
 238 0018 F5E7     		b	.L16
 239              	.L19:
 151:Project/Display/ssd1306.c ****     }
 152:Project/Display/ssd1306.c **** }
 240              		.loc 1 152 1 view .LVU32
 241 001a 7047     		bx	lr
 242              	.L21:
 243              		.align	2
 244              	.L20:
 245 001c 00000000 		.word	.LANCHOR0
 246              		.cfi_endproc
 247              	.LFE131:
 249              		.section	.text.ssd1306_UpdateScreen,"ax",%progbits
 250              		.align	1
 251              		.global	ssd1306_UpdateScreen
 252              		.syntax unified
 253              		.thumb
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 8


 254              		.thumb_func
 255              		.fpu fpv4-sp-d16
 257              	ssd1306_UpdateScreen:
 258              	.LFB132:
 153:Project/Display/ssd1306.c **** 
 154:Project/Display/ssd1306.c **** // Write the screenbuffer with changed to the screen
 155:Project/Display/ssd1306.c **** void ssd1306_UpdateScreen(void) {
 259              		.loc 1 155 33 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 8
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263 0000 70B5     		push	{r4, r5, r6, lr}
 264              	.LCFI9:
 265              		.cfi_def_cfa_offset 16
 266              		.cfi_offset 4, -16
 267              		.cfi_offset 5, -12
 268              		.cfi_offset 6, -8
 269              		.cfi_offset 14, -4
 270 0002 82B0     		sub	sp, sp, #8
 271              	.LCFI10:
 272              		.cfi_def_cfa_offset 24
 156:Project/Display/ssd1306.c ****     uint8_t i;
 273              		.loc 1 156 5 view .LVU34
 157:Project/Display/ssd1306.c ****     for(i = 0; i < 8; i++) {
 274              		.loc 1 157 5 view .LVU35
 275              	.LVL14:
 276              		.loc 1 157 11 is_stmt 0 view .LVU36
 277 0004 0024     		movs	r4, #0
 278              		.loc 1 157 5 view .LVU37
 279 0006 1AE0     		b	.L23
 280              	.LVL15:
 281              	.L24:
 282              	.LBB2:
 158:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 283              		.loc 1 158 9 is_stmt 1 discriminator 3 view .LVU38
 284              		.loc 1 158 32 is_stmt 0 discriminator 3 view .LVU39
 285 0008 A4F15000 		sub	r0, r4, #80
 286 000c C0B2     		uxtb	r0, r0
 287              		.loc 1 158 17 discriminator 3 view .LVU40
 288 000e 8DF80400 		strb	r0, [sp, #4]
 289 0012 0026     		movs	r6, #0
 290 0014 8DF80560 		strb	r6, [sp, #5]
 291 0018 1025     		movs	r5, #16
 292 001a 8DF80650 		strb	r5, [sp, #6]
 159:Project/Display/ssd1306.c ****         ssd1306_WriteCommand(cmds[0]);
 293              		.loc 1 159 9 is_stmt 1 discriminator 3 view .LVU41
 294 001e FFF7FEFF 		bl	ssd1306_WriteCommand
 295              	.LVL16:
 160:Project/Display/ssd1306.c ****         ssd1306_WriteCommand(cmds[1]);
 296              		.loc 1 160 9 discriminator 3 view .LVU42
 297 0022 3046     		mov	r0, r6
 298 0024 FFF7FEFF 		bl	ssd1306_WriteCommand
 299              	.LVL17:
 161:Project/Display/ssd1306.c ****         ssd1306_WriteCommand(cmds[2]);
 300              		.loc 1 161 9 discriminator 3 view .LVU43
 301 0028 2846     		mov	r0, r5
 302 002a FFF7FEFF 		bl	ssd1306_WriteCommand
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 9


 303              	.LVL18:
 162:Project/Display/ssd1306.c ****         ssd1306_WriteData(&SSD1306_Buffer[SSD1306_WIDTH*i],SSD1306_WIDTH);
 304              		.loc 1 162 9 discriminator 3 view .LVU44
 305 002e 8021     		movs	r1, #128
 306 0030 0548     		ldr	r0, .L26
 307 0032 00EBC410 		add	r0, r0, r4, lsl #7
 308 0036 FFF7FEFF 		bl	ssd1306_WriteData
 309              	.LVL19:
 310              	.LBE2:
 157:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 311              		.loc 1 157 23 discriminator 3 view .LVU45
 157:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 312              		.loc 1 157 24 is_stmt 0 discriminator 3 view .LVU46
 313 003a 0134     		adds	r4, r4, #1
 314              	.LVL20:
 157:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 315              		.loc 1 157 24 discriminator 3 view .LVU47
 316 003c E4B2     		uxtb	r4, r4
 317              	.LVL21:
 318              	.L23:
 157:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 319              		.loc 1 157 16 is_stmt 1 discriminator 1 view .LVU48
 157:Project/Display/ssd1306.c ****         uint8_t cmds[] = {0xB0 + i, 0x00, 0x10};
 320              		.loc 1 157 5 is_stmt 0 discriminator 1 view .LVU49
 321 003e 072C     		cmp	r4, #7
 322 0040 E2D9     		bls	.L24
 163:Project/Display/ssd1306.c ****     }
 164:Project/Display/ssd1306.c **** }
 323              		.loc 1 164 1 view .LVU50
 324 0042 02B0     		add	sp, sp, #8
 325              	.LCFI11:
 326              		.cfi_def_cfa_offset 16
 327              		@ sp needed
 328 0044 70BD     		pop	{r4, r5, r6, pc}
 329              	.LVL22:
 330              	.L27:
 331              		.loc 1 164 1 view .LVU51
 332 0046 00BF     		.align	2
 333              	.L26:
 334 0048 00000000 		.word	.LANCHOR0
 335              		.cfi_endproc
 336              	.LFE132:
 338              		.section	.text.ssd1306_Init,"ax",%progbits
 339              		.align	1
 340              		.global	ssd1306_Init
 341              		.syntax unified
 342              		.thumb
 343              		.thumb_func
 344              		.fpu fpv4-sp-d16
 346              	ssd1306_Init:
 347              	.LFB130:
  66:Project/Display/ssd1306.c **** 	// Reset OLED
 348              		.loc 1 66 25 is_stmt 1 view -0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 352 0000 08B5     		push	{r3, lr}
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 10


 353              	.LCFI12:
 354              		.cfi_def_cfa_offset 8
 355              		.cfi_offset 3, -8
 356              		.cfi_offset 14, -4
  68:Project/Display/ssd1306.c **** 
 357              		.loc 1 68 2 view .LVU53
  71:Project/Display/ssd1306.c ****     
 358              		.loc 1 71 5 view .LVU54
 359 0002 6420     		movs	r0, #100
 360 0004 FFF7FEFF 		bl	HAL_Delay
 361              	.LVL23:
  74:Project/Display/ssd1306.c **** 
 362              		.loc 1 74 5 view .LVU55
 363 0008 AE20     		movs	r0, #174
 364 000a FFF7FEFF 		bl	ssd1306_WriteCommand
 365              	.LVL24:
  76:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x00); // 00b,Horizontal Addressing Mode; 01b,Vertical Addressing Mode;
 366              		.loc 1 76 5 view .LVU56
 367 000e 2020     		movs	r0, #32
 368 0010 FFF7FEFF 		bl	ssd1306_WriteCommand
 369              	.LVL25:
  77:Project/Display/ssd1306.c ****                                 // 10b,Page Addressing Mode (RESET); 11b,Invalid
 370              		.loc 1 77 5 view .LVU57
 371 0014 0020     		movs	r0, #0
 372 0016 FFF7FEFF 		bl	ssd1306_WriteCommand
 373              	.LVL26:
  80:Project/Display/ssd1306.c **** 
 374              		.loc 1 80 5 view .LVU58
 375 001a B020     		movs	r0, #176
 376 001c FFF7FEFF 		bl	ssd1306_WriteCommand
 377              	.LVL27:
  85:Project/Display/ssd1306.c **** #endif
 378              		.loc 1 85 5 view .LVU59
 379 0020 C820     		movs	r0, #200
 380 0022 FFF7FEFF 		bl	ssd1306_WriteCommand
 381              	.LVL28:
  88:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x10); //---set high column address
 382              		.loc 1 88 5 view .LVU60
 383 0026 0020     		movs	r0, #0
 384 0028 FFF7FEFF 		bl	ssd1306_WriteCommand
 385              	.LVL29:
  89:Project/Display/ssd1306.c **** 
 386              		.loc 1 89 5 view .LVU61
 387 002c 1020     		movs	r0, #16
 388 002e FFF7FEFF 		bl	ssd1306_WriteCommand
 389              	.LVL30:
  91:Project/Display/ssd1306.c **** 
 390              		.loc 1 91 5 view .LVU62
 391 0032 4020     		movs	r0, #64
 392 0034 FFF7FEFF 		bl	ssd1306_WriteCommand
 393              	.LVL31:
  93:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xFF);
 394              		.loc 1 93 5 view .LVU63
 395 0038 8120     		movs	r0, #129
 396 003a FFF7FEFF 		bl	ssd1306_WriteCommand
 397              	.LVL32:
  94:Project/Display/ssd1306.c **** 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 11


 398              		.loc 1 94 5 view .LVU64
 399 003e FF20     		movs	r0, #255
 400 0040 FFF7FEFF 		bl	ssd1306_WriteCommand
 401              	.LVL33:
  99:Project/Display/ssd1306.c **** #endif
 402              		.loc 1 99 5 view .LVU65
 403 0044 A120     		movs	r0, #161
 404 0046 FFF7FEFF 		bl	ssd1306_WriteCommand
 405              	.LVL34:
 105:Project/Display/ssd1306.c **** #endif
 406              		.loc 1 105 5 view .LVU66
 407 004a A620     		movs	r0, #166
 408 004c FFF7FEFF 		bl	ssd1306_WriteCommand
 409              	.LVL35:
 108:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x3F); //
 410              		.loc 1 108 5 view .LVU67
 411 0050 A820     		movs	r0, #168
 412 0052 FFF7FEFF 		bl	ssd1306_WriteCommand
 413              	.LVL36:
 109:Project/Display/ssd1306.c **** 
 414              		.loc 1 109 5 view .LVU68
 415 0056 3F20     		movs	r0, #63
 416 0058 FFF7FEFF 		bl	ssd1306_WriteCommand
 417              	.LVL37:
 111:Project/Display/ssd1306.c **** 
 418              		.loc 1 111 5 view .LVU69
 419 005c A420     		movs	r0, #164
 420 005e FFF7FEFF 		bl	ssd1306_WriteCommand
 421              	.LVL38:
 113:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x00); //-not offset
 422              		.loc 1 113 5 view .LVU70
 423 0062 D320     		movs	r0, #211
 424 0064 FFF7FEFF 		bl	ssd1306_WriteCommand
 425              	.LVL39:
 114:Project/Display/ssd1306.c **** 
 426              		.loc 1 114 5 view .LVU71
 427 0068 0020     		movs	r0, #0
 428 006a FFF7FEFF 		bl	ssd1306_WriteCommand
 429              	.LVL40:
 116:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xF0); //--set divide ratio
 430              		.loc 1 116 5 view .LVU72
 431 006e D520     		movs	r0, #213
 432 0070 FFF7FEFF 		bl	ssd1306_WriteCommand
 433              	.LVL41:
 117:Project/Display/ssd1306.c **** 
 434              		.loc 1 117 5 view .LVU73
 435 0074 F020     		movs	r0, #240
 436 0076 FFF7FEFF 		bl	ssd1306_WriteCommand
 437              	.LVL42:
 119:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x22); //
 438              		.loc 1 119 5 view .LVU74
 439 007a D920     		movs	r0, #217
 440 007c FFF7FEFF 		bl	ssd1306_WriteCommand
 441              	.LVL43:
 120:Project/Display/ssd1306.c **** 
 442              		.loc 1 120 5 view .LVU75
 443 0080 2220     		movs	r0, #34
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 12


 444 0082 FFF7FEFF 		bl	ssd1306_WriteCommand
 445              	.LVL44:
 122:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x12);
 446              		.loc 1 122 5 view .LVU76
 447 0086 DA20     		movs	r0, #218
 448 0088 FFF7FEFF 		bl	ssd1306_WriteCommand
 449              	.LVL45:
 123:Project/Display/ssd1306.c **** 
 450              		.loc 1 123 5 view .LVU77
 451 008c 1220     		movs	r0, #18
 452 008e FFF7FEFF 		bl	ssd1306_WriteCommand
 453              	.LVL46:
 125:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x10); //0x20,0.77xVcc
 454              		.loc 1 125 5 view .LVU78
 455 0092 DB20     		movs	r0, #219
 456 0094 FFF7FEFF 		bl	ssd1306_WriteCommand
 457              	.LVL47:
 126:Project/Display/ssd1306.c **** 
 458              		.loc 1 126 5 view .LVU79
 459 0098 1020     		movs	r0, #16
 460 009a FFF7FEFF 		bl	ssd1306_WriteCommand
 461              	.LVL48:
 128:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0x14); //
 462              		.loc 1 128 5 view .LVU80
 463 009e 8D20     		movs	r0, #141
 464 00a0 FFF7FEFF 		bl	ssd1306_WriteCommand
 465              	.LVL49:
 129:Project/Display/ssd1306.c ****     ssd1306_WriteCommand(0xAF); //--turn on SSD1306 panel
 466              		.loc 1 129 5 view .LVU81
 467 00a4 1420     		movs	r0, #20
 468 00a6 FFF7FEFF 		bl	ssd1306_WriteCommand
 469              	.LVL50:
 130:Project/Display/ssd1306.c **** 
 470              		.loc 1 130 5 view .LVU82
 471 00aa AF20     		movs	r0, #175
 472 00ac FFF7FEFF 		bl	ssd1306_WriteCommand
 473              	.LVL51:
 133:Project/Display/ssd1306.c ****     
 474              		.loc 1 133 5 view .LVU83
 475 00b0 0020     		movs	r0, #0
 476 00b2 FFF7FEFF 		bl	ssd1306_Fill
 477              	.LVL52:
 136:Project/Display/ssd1306.c ****     
 478              		.loc 1 136 5 view .LVU84
 479 00b6 FFF7FEFF 		bl	ssd1306_UpdateScreen
 480              	.LVL53:
 139:Project/Display/ssd1306.c ****     SSD1306.CurrentY = 0;
 481              		.loc 1 139 5 view .LVU85
 139:Project/Display/ssd1306.c ****     SSD1306.CurrentY = 0;
 482              		.loc 1 139 22 is_stmt 0 view .LVU86
 483 00ba 034B     		ldr	r3, .L30
 484 00bc 0022     		movs	r2, #0
 485 00be 1A80     		strh	r2, [r3]	@ movhi
 140:Project/Display/ssd1306.c ****     
 486              		.loc 1 140 5 is_stmt 1 view .LVU87
 140:Project/Display/ssd1306.c ****     
 487              		.loc 1 140 22 is_stmt 0 view .LVU88
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 13


 488 00c0 5A80     		strh	r2, [r3, #2]	@ movhi
 142:Project/Display/ssd1306.c **** }
 489              		.loc 1 142 5 is_stmt 1 view .LVU89
 142:Project/Display/ssd1306.c **** }
 490              		.loc 1 142 25 is_stmt 0 view .LVU90
 491 00c2 0122     		movs	r2, #1
 492 00c4 5A71     		strb	r2, [r3, #5]
 143:Project/Display/ssd1306.c **** 
 493              		.loc 1 143 1 view .LVU91
 494 00c6 08BD     		pop	{r3, pc}
 495              	.L31:
 496              		.align	2
 497              	.L30:
 498 00c8 00000000 		.word	.LANCHOR1
 499              		.cfi_endproc
 500              	.LFE130:
 502              		.section	.text.ssd1306_DrawPixel,"ax",%progbits
 503              		.align	1
 504              		.global	ssd1306_DrawPixel
 505              		.syntax unified
 506              		.thumb
 507              		.thumb_func
 508              		.fpu fpv4-sp-d16
 510              	ssd1306_DrawPixel:
 511              	.LVL54:
 512              	.LFB133:
 165:Project/Display/ssd1306.c **** 
 166:Project/Display/ssd1306.c **** //    Draw one pixel in the screenbuffer
 167:Project/Display/ssd1306.c **** //    X => X Coordinate
 168:Project/Display/ssd1306.c **** //    Y => Y Coordinate
 169:Project/Display/ssd1306.c **** //    color => Pixel color
 170:Project/Display/ssd1306.c **** void ssd1306_DrawPixel(uint8_t x, uint8_t y, SSD1306_COLOR color) {
 513              		.loc 1 170 67 is_stmt 1 view -0
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 0
 516              		@ frame_needed = 0, uses_anonymous_args = 0
 517              		@ link register save eliminated.
 171:Project/Display/ssd1306.c ****     if(x >= SSD1306_WIDTH || y >= SSD1306_HEIGHT) {
 518              		.loc 1 171 5 view .LVU93
 519              		.loc 1 171 7 is_stmt 0 view .LVU94
 520 0000 10F0800F 		tst	r0, #128
 521 0004 15D1     		bne	.L32
 522              		.loc 1 171 27 discriminator 1 view .LVU95
 523 0006 3F29     		cmp	r1, #63
 524 0008 13D8     		bhi	.L32
 172:Project/Display/ssd1306.c ****         // Don't write outside the buffer
 173:Project/Display/ssd1306.c ****         return;
 174:Project/Display/ssd1306.c ****     }
 175:Project/Display/ssd1306.c ****     
 176:Project/Display/ssd1306.c ****     // Check if pixel should be inverted
 177:Project/Display/ssd1306.c ****     if(SSD1306.Inverted) {
 525              		.loc 1 177 5 is_stmt 1 view .LVU96
 526              		.loc 1 177 15 is_stmt 0 view .LVU97
 527 000a 104B     		ldr	r3, .L37
 528 000c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 529              		.loc 1 177 7 view .LVU98
 530 000e 13B1     		cbz	r3, .L34
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 14


 178:Project/Display/ssd1306.c ****         color = (SSD1306_COLOR)!color;
 531              		.loc 1 178 9 is_stmt 1 view .LVU99
 532              		.loc 1 178 17 is_stmt 0 view .LVU100
 533 0010 B2FA82F2 		clz	r2, r2
 534              	.LVL55:
 535              		.loc 1 178 17 view .LVU101
 536 0014 5209     		lsrs	r2, r2, #5
 537              	.LVL56:
 538              	.L34:
 179:Project/Display/ssd1306.c ****     }
 180:Project/Display/ssd1306.c ****     
 181:Project/Display/ssd1306.c ****     // Draw in the right color
 182:Project/Display/ssd1306.c ****     if(color == White) {
 539              		.loc 1 182 5 is_stmt 1 view .LVU102
 540              		.loc 1 182 7 is_stmt 0 view .LVU103
 541 0016 012A     		cmp	r2, #1
 542 0018 0CD0     		beq	.L36
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 184:Project/Display/ssd1306.c ****     } else { 
 185:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] &= ~(1 << (y % 8));
 543              		.loc 1 185 9 is_stmt 1 view .LVU104
 544              		.loc 1 185 53 is_stmt 0 view .LVU105
 545 001a CB08     		lsrs	r3, r1, #3
 546 001c 00EBC310 		add	r0, r0, r3, lsl #7
 547              	.LVL57:
 548              		.loc 1 185 66 view .LVU106
 549 0020 01F00701 		and	r1, r1, #7
 550              	.LVL58:
 551              		.loc 1 185 60 view .LVU107
 552 0024 0123     		movs	r3, #1
 553 0026 8B40     		lsls	r3, r3, r1
 554              		.loc 1 185 53 view .LVU108
 555 0028 094A     		ldr	r2, .L37+4
 556              	.LVL59:
 557              		.loc 1 185 53 view .LVU109
 558 002a 115C     		ldrb	r1, [r2, r0]	@ zero_extendqisi2
 559 002c 21EA0301 		bic	r1, r1, r3
 560 0030 1154     		strb	r1, [r2, r0]
 561              	.L32:
 186:Project/Display/ssd1306.c ****     }
 187:Project/Display/ssd1306.c **** }
 562              		.loc 1 187 1 view .LVU110
 563 0032 7047     		bx	lr
 564              	.LVL60:
 565              	.L36:
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 566              		.loc 1 183 9 is_stmt 1 view .LVU111
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 567              		.loc 1 183 53 is_stmt 0 view .LVU112
 568 0034 CB08     		lsrs	r3, r1, #3
 569 0036 00EBC310 		add	r0, r0, r3, lsl #7
 570              	.LVL61:
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 571              		.loc 1 183 64 view .LVU113
 572 003a 01F00701 		and	r1, r1, #7
 573              	.LVL62:
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 15


 574              		.loc 1 183 58 view .LVU114
 575 003e 0123     		movs	r3, #1
 576 0040 8B40     		lsls	r3, r3, r1
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 577              		.loc 1 183 53 view .LVU115
 578 0042 034A     		ldr	r2, .L37+4
 579              	.LVL63:
 183:Project/Display/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 580              		.loc 1 183 53 view .LVU116
 581 0044 115C     		ldrb	r1, [r2, r0]	@ zero_extendqisi2
 582 0046 1943     		orrs	r1, r1, r3
 583 0048 1154     		strb	r1, [r2, r0]
 584 004a 7047     		bx	lr
 585              	.L38:
 586              		.align	2
 587              	.L37:
 588 004c 00000000 		.word	.LANCHOR1
 589 0050 00000000 		.word	.LANCHOR0
 590              		.cfi_endproc
 591              	.LFE133:
 593              		.section	.text.ssd1306_WriteChar,"ax",%progbits
 594              		.align	1
 595              		.global	ssd1306_WriteChar
 596              		.syntax unified
 597              		.thumb
 598              		.thumb_func
 599              		.fpu fpv4-sp-d16
 601              	ssd1306_WriteChar:
 602              	.LVL64:
 603              	.LFB134:
 188:Project/Display/ssd1306.c **** 
 189:Project/Display/ssd1306.c **** // Draw 1 char to the screen buffer
 190:Project/Display/ssd1306.c **** // ch       => char om weg te schrijven
 191:Project/Display/ssd1306.c **** // Font     => Font waarmee we gaan schrijven
 192:Project/Display/ssd1306.c **** // color    => Black or White
 193:Project/Display/ssd1306.c **** char ssd1306_WriteChar(char ch, FontDef Font, SSD1306_COLOR color) {
 604              		.loc 1 193 68 is_stmt 1 view -0
 605              		.cfi_startproc
 606              		@ args = 0, pretend = 0, frame = 8
 607              		@ frame_needed = 0, uses_anonymous_args = 0
 608              		.loc 1 193 68 is_stmt 0 view .LVU118
 609 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 610              	.LCFI13:
 611              		.cfi_def_cfa_offset 28
 612              		.cfi_offset 4, -28
 613              		.cfi_offset 5, -24
 614              		.cfi_offset 6, -20
 615              		.cfi_offset 7, -16
 616              		.cfi_offset 8, -12
 617              		.cfi_offset 9, -8
 618              		.cfi_offset 14, -4
 619 0004 83B0     		sub	sp, sp, #12
 620              	.LCFI14:
 621              		.cfi_def_cfa_offset 40
 622 0006 8146     		mov	r9, r0
 623 0008 02A8     		add	r0, sp, #8
 624              	.LVL65:
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 16


 625              		.loc 1 193 68 view .LVU119
 626 000a 00E90600 		stmdb	r0, {r1, r2}
 627 000e 9846     		mov	r8, r3
 194:Project/Display/ssd1306.c ****     uint32_t i, b, j;
 628              		.loc 1 194 5 is_stmt 1 view .LVU120
 195:Project/Display/ssd1306.c ****     
 196:Project/Display/ssd1306.c ****     // Check if character is valid
 197:Project/Display/ssd1306.c ****     if (ch < 32 || ch > 126)
 629              		.loc 1 197 5 view .LVU121
 630              		.loc 1 197 17 is_stmt 0 view .LVU122
 631 0010 A9F12003 		sub	r3, r9, #32
 632              	.LVL66:
 633              		.loc 1 197 17 view .LVU123
 634 0014 DBB2     		uxtb	r3, r3
 635              		.loc 1 197 8 view .LVU124
 636 0016 5E2B     		cmp	r3, #94
 637 0018 4CD8     		bhi	.L49
 198:Project/Display/ssd1306.c ****         return 0;
 199:Project/Display/ssd1306.c ****     
 200:Project/Display/ssd1306.c ****     // Check remaining space on current line
 201:Project/Display/ssd1306.c ****     if (SSD1306_WIDTH < (SSD1306.CurrentX + Font.width) ||
 638              		.loc 1 201 5 is_stmt 1 view .LVU125
 639              		.loc 1 201 33 is_stmt 0 view .LVU126
 640 001a 274B     		ldr	r3, .L53
 641 001c 1B88     		ldrh	r3, [r3]
 642              		.loc 1 201 49 view .LVU127
 643 001e 9DF80060 		ldrb	r6, [sp]	@ zero_extendqisi2
 644              		.loc 1 201 43 view .LVU128
 645 0022 3344     		add	r3, r3, r6
 646              		.loc 1 201 8 view .LVU129
 647 0024 802B     		cmp	r3, #128
 648 0026 06DC     		bgt	.L41
 202:Project/Display/ssd1306.c ****         SSD1306_HEIGHT < (SSD1306.CurrentY + Font.height))
 649              		.loc 1 202 34 discriminator 1 view .LVU130
 650 0028 234B     		ldr	r3, .L53
 651 002a 5B88     		ldrh	r3, [r3, #2]
 652              		.loc 1 202 50 discriminator 1 view .LVU131
 653 002c 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 654              		.loc 1 202 44 discriminator 1 view .LVU132
 655 0030 1344     		add	r3, r3, r2
 201:Project/Display/ssd1306.c ****         SSD1306_HEIGHT < (SSD1306.CurrentY + Font.height))
 656              		.loc 1 201 57 discriminator 1 view .LVU133
 657 0032 402B     		cmp	r3, #64
 658 0034 07DD     		ble	.L42
 659              	.L41:
 203:Project/Display/ssd1306.c ****     {
 204:Project/Display/ssd1306.c ****         SSD1306.CurrentY += Font.height;
 660              		.loc 1 204 9 is_stmt 1 view .LVU134
 661              		.loc 1 204 33 is_stmt 0 view .LVU135
 662 0036 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 663              		.loc 1 204 26 view .LVU136
 664 003a 1F4B     		ldr	r3, .L53
 665 003c 5988     		ldrh	r1, [r3, #2]
 666 003e 0A44     		add	r2, r2, r1
 667 0040 5A80     		strh	r2, [r3, #2]	@ movhi
 205:Project/Display/ssd1306.c ****         SSD1306.CurrentX = 2;
 668              		.loc 1 205 9 is_stmt 1 view .LVU137
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 17


 669              		.loc 1 205 26 is_stmt 0 view .LVU138
 670 0042 0222     		movs	r2, #2
 671 0044 1A80     		strh	r2, [r3]	@ movhi
 672              	.L42:
 206:Project/Display/ssd1306.c **** 
 207:Project/Display/ssd1306.c ****     }
 208:Project/Display/ssd1306.c ****     
 209:Project/Display/ssd1306.c ****     // Use the font to write
 210:Project/Display/ssd1306.c ****     for(i = 0; i < Font.height; i++) {
 211:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 212:Project/Display/ssd1306.c ****         for(j = 0; j < Font.width; j++) {
 673              		.loc 1 212 15 discriminator 1 view .LVU139
 674 0046 0025     		movs	r5, #0
 675 0048 1FE0     		b	.L43
 676              	.LVL67:
 677              	.L45:
 213:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 214:Project/Display/ssd1306.c ****                 ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR) col
 215:Project/Display/ssd1306.c ****             } else {
 216:Project/Display/ssd1306.c ****                 ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR)!col
 678              		.loc 1 216 17 is_stmt 1 view .LVU140
 679              		.loc 1 216 42 is_stmt 0 view .LVU141
 680 004a 1B4B     		ldr	r3, .L53
 681 004c 1888     		ldrh	r0, [r3]
 682              		.loc 1 216 65 view .LVU142
 683 004e 5988     		ldrh	r1, [r3, #2]
 684              		.loc 1 216 17 view .LVU143
 685 0050 2944     		add	r1, r1, r5
 686 0052 2044     		add	r0, r0, r4
 687 0054 B8FA88F2 		clz	r2, r8
 688 0058 5209     		lsrs	r2, r2, #5
 689 005a C9B2     		uxtb	r1, r1
 690 005c C0B2     		uxtb	r0, r0
 691 005e FFF7FEFF 		bl	ssd1306_DrawPixel
 692              	.LVL68:
 693              	.L46:
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 694              		.loc 1 212 36 is_stmt 1 discriminator 2 view .LVU144
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 695              		.loc 1 212 37 is_stmt 0 discriminator 2 view .LVU145
 696 0062 0134     		adds	r4, r4, #1
 697              	.LVL69:
 698              	.L44:
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 699              		.loc 1 212 20 is_stmt 1 discriminator 1 view .LVU146
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 700              		.loc 1 212 9 is_stmt 0 discriminator 1 view .LVU147
 701 0064 A642     		cmp	r6, r4
 702 0066 0FD9     		bls	.L51
 213:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 703              		.loc 1 213 13 is_stmt 1 view .LVU148
 213:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 704              		.loc 1 213 19 is_stmt 0 view .LVU149
 705 0068 07FA04F3 		lsl	r3, r7, r4
 213:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 706              		.loc 1 213 15 view .LVU150
 707 006c 13F4004F 		tst	r3, #32768
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 18


 708 0070 EBD0     		beq	.L45
 214:Project/Display/ssd1306.c ****             } else {
 709              		.loc 1 214 17 is_stmt 1 view .LVU151
 214:Project/Display/ssd1306.c ****             } else {
 710              		.loc 1 214 42 is_stmt 0 view .LVU152
 711 0072 114B     		ldr	r3, .L53
 712 0074 1888     		ldrh	r0, [r3]
 214:Project/Display/ssd1306.c ****             } else {
 713              		.loc 1 214 65 view .LVU153
 714 0076 5988     		ldrh	r1, [r3, #2]
 214:Project/Display/ssd1306.c ****             } else {
 715              		.loc 1 214 17 view .LVU154
 716 0078 2944     		add	r1, r1, r5
 717 007a 2044     		add	r0, r0, r4
 718 007c 4246     		mov	r2, r8
 719 007e C9B2     		uxtb	r1, r1
 720 0080 C0B2     		uxtb	r0, r0
 721 0082 FFF7FEFF 		bl	ssd1306_DrawPixel
 722              	.LVL70:
 723 0086 ECE7     		b	.L46
 724              	.L51:
 210:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 725              		.loc 1 210 33 is_stmt 1 discriminator 2 view .LVU155
 210:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 726              		.loc 1 210 34 is_stmt 0 discriminator 2 view .LVU156
 727 0088 0135     		adds	r5, r5, #1
 728              	.LVL71:
 729              	.L43:
 210:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 730              		.loc 1 210 16 is_stmt 1 discriminator 1 view .LVU157
 210:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 731              		.loc 1 210 24 is_stmt 0 discriminator 1 view .LVU158
 732 008a 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 210:Project/Display/ssd1306.c ****         b = Font.data[(ch - 32) * Font.height + i];
 733              		.loc 1 210 5 discriminator 1 view .LVU159
 734 008e AA42     		cmp	r2, r5
 735 0090 08D9     		bls	.L52
 211:Project/Display/ssd1306.c ****         for(j = 0; j < Font.width; j++) {
 736              		.loc 1 211 9 is_stmt 1 view .LVU160
 211:Project/Display/ssd1306.c ****         for(j = 0; j < Font.width; j++) {
 737              		.loc 1 211 27 is_stmt 0 view .LVU161
 738 0092 A9F12003 		sub	r3, r9, #32
 211:Project/Display/ssd1306.c ****         for(j = 0; j < Font.width; j++) {
 739              		.loc 1 211 47 view .LVU162
 740 0096 02FB0353 		mla	r3, r2, r3, r5
 211:Project/Display/ssd1306.c ****         for(j = 0; j < Font.width; j++) {
 741              		.loc 1 211 22 view .LVU163
 742 009a 019A     		ldr	r2, [sp, #4]
 743 009c 32F81370 		ldrh	r7, [r2, r3, lsl #1]
 744              	.LVL72:
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 745              		.loc 1 212 9 is_stmt 1 view .LVU164
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 746              		.loc 1 212 15 is_stmt 0 view .LVU165
 747 00a0 0024     		movs	r4, #0
 212:Project/Display/ssd1306.c ****             if((b << j) & 0x8000)  {
 748              		.loc 1 212 9 view .LVU166
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 19


 749 00a2 DFE7     		b	.L44
 750              	.LVL73:
 751              	.L52:
 217:Project/Display/ssd1306.c ****             }
 218:Project/Display/ssd1306.c ****         }
 219:Project/Display/ssd1306.c ****     }
 220:Project/Display/ssd1306.c ****     
 221:Project/Display/ssd1306.c ****     // The current space is now taken
 222:Project/Display/ssd1306.c ****     SSD1306.CurrentX += Font.width;
 752              		.loc 1 222 5 is_stmt 1 view .LVU167
 753              		.loc 1 222 22 is_stmt 0 view .LVU168
 754 00a4 044B     		ldr	r3, .L53
 755 00a6 1A88     		ldrh	r2, [r3]
 756 00a8 1644     		add	r6, r6, r2
 757 00aa 1E80     		strh	r6, [r3]	@ movhi
 223:Project/Display/ssd1306.c ****     
 224:Project/Display/ssd1306.c ****     // Return written char for validation
 225:Project/Display/ssd1306.c ****     return ch;
 758              		.loc 1 225 5 is_stmt 1 view .LVU169
 759              		.loc 1 225 12 is_stmt 0 view .LVU170
 760 00ac 4846     		mov	r0, r9
 761              	.LVL74:
 762              	.L40:
 226:Project/Display/ssd1306.c **** }
 763              		.loc 1 226 1 view .LVU171
 764 00ae 03B0     		add	sp, sp, #12
 765              	.LCFI15:
 766              		.cfi_remember_state
 767              		.cfi_def_cfa_offset 28
 768              		@ sp needed
 769 00b0 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 770              	.L49:
 771              	.LCFI16:
 772              		.cfi_restore_state
 198:Project/Display/ssd1306.c ****     
 773              		.loc 1 198 16 view .LVU172
 774 00b4 0020     		movs	r0, #0
 775 00b6 FAE7     		b	.L40
 776              	.L54:
 777              		.align	2
 778              	.L53:
 779 00b8 00000000 		.word	.LANCHOR1
 780              		.cfi_endproc
 781              	.LFE134:
 783              		.section	.text.ssd1306_SetCursor,"ax",%progbits
 784              		.align	1
 785              		.global	ssd1306_SetCursor
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 789              		.fpu fpv4-sp-d16
 791              	ssd1306_SetCursor:
 792              	.LVL75:
 793              	.LFB136:
 227:Project/Display/ssd1306.c **** 
 228:Project/Display/ssd1306.c **** // Write full string to screenbuffer
 229:Project/Display/ssd1306.c **** char ssd1306_WriteString(char* str, FontDef Font, SSD1306_COLOR color,int x,int y) {
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 20


 230:Project/Display/ssd1306.c ****   ssd1306_SetCursor(x,y);
 231:Project/Display/ssd1306.c ****     // Write until null-byte
 232:Project/Display/ssd1306.c ****     while (*str) {
 233:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 234:Project/Display/ssd1306.c ****             // Char could not be written
 235:Project/Display/ssd1306.c ****             return *str;
 236:Project/Display/ssd1306.c ****         }
 237:Project/Display/ssd1306.c ****         
 238:Project/Display/ssd1306.c ****         // Next char
 239:Project/Display/ssd1306.c ****         str++;
 240:Project/Display/ssd1306.c ****     }
 241:Project/Display/ssd1306.c ****     // Everything ok
 242:Project/Display/ssd1306.c ****     return *str;
 243:Project/Display/ssd1306.c **** }
 244:Project/Display/ssd1306.c **** 
 245:Project/Display/ssd1306.c **** // Position the cursor
 246:Project/Display/ssd1306.c **** void ssd1306_SetCursor(uint8_t x, uint8_t y) {
 794              		.loc 1 246 46 is_stmt 1 view -0
 795              		.cfi_startproc
 796              		@ args = 0, pretend = 0, frame = 0
 797              		@ frame_needed = 0, uses_anonymous_args = 0
 798              		@ link register save eliminated.
 247:Project/Display/ssd1306.c ****     SSD1306.CurrentX = x;
 799              		.loc 1 247 5 view .LVU174
 800              		.loc 1 247 22 is_stmt 0 view .LVU175
 801 0000 014B     		ldr	r3, .L56
 802 0002 1880     		strh	r0, [r3]	@ movhi
 248:Project/Display/ssd1306.c ****     SSD1306.CurrentY = y;
 803              		.loc 1 248 5 is_stmt 1 view .LVU176
 804              		.loc 1 248 22 is_stmt 0 view .LVU177
 805 0004 5980     		strh	r1, [r3, #2]	@ movhi
 249:Project/Display/ssd1306.c **** }
 806              		.loc 1 249 1 view .LVU178
 807 0006 7047     		bx	lr
 808              	.L57:
 809              		.align	2
 810              	.L56:
 811 0008 00000000 		.word	.LANCHOR1
 812              		.cfi_endproc
 813              	.LFE136:
 815              		.section	.text.ssd1306_WriteString,"ax",%progbits
 816              		.align	1
 817              		.global	ssd1306_WriteString
 818              		.syntax unified
 819              		.thumb
 820              		.thumb_func
 821              		.fpu fpv4-sp-d16
 823              	ssd1306_WriteString:
 824              	.LVL76:
 825              	.LFB135:
 229:Project/Display/ssd1306.c ****   ssd1306_SetCursor(x,y);
 826              		.loc 1 229 84 is_stmt 1 view -0
 827              		.cfi_startproc
 828              		@ args = 8, pretend = 0, frame = 8
 829              		@ frame_needed = 0, uses_anonymous_args = 0
 229:Project/Display/ssd1306.c ****   ssd1306_SetCursor(x,y);
 830              		.loc 1 229 84 is_stmt 0 view .LVU180
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 21


 831 0000 30B5     		push	{r4, r5, lr}
 832              	.LCFI17:
 833              		.cfi_def_cfa_offset 12
 834              		.cfi_offset 4, -12
 835              		.cfi_offset 5, -8
 836              		.cfi_offset 14, -4
 837 0002 83B0     		sub	sp, sp, #12
 838              	.LCFI18:
 839              		.cfi_def_cfa_offset 24
 840 0004 0446     		mov	r4, r0
 841 0006 02A8     		add	r0, sp, #8
 842              	.LVL77:
 229:Project/Display/ssd1306.c ****   ssd1306_SetCursor(x,y);
 843              		.loc 1 229 84 view .LVU181
 844 0008 00E90600 		stmdb	r0, {r1, r2}
 845 000c 1D46     		mov	r5, r3
 230:Project/Display/ssd1306.c ****     // Write until null-byte
 846              		.loc 1 230 3 is_stmt 1 view .LVU182
 847 000e 9DF81C10 		ldrb	r1, [sp, #28]	@ zero_extendqisi2
 848 0012 9DF81800 		ldrb	r0, [sp, #24]	@ zero_extendqisi2
 849 0016 FFF7FEFF 		bl	ssd1306_SetCursor
 850              	.LVL78:
 232:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 851              		.loc 1 232 5 view .LVU183
 232:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 852              		.loc 1 232 11 is_stmt 0 view .LVU184
 853 001a 00E0     		b	.L59
 854              	.L63:
 239:Project/Display/ssd1306.c ****     }
 855              		.loc 1 239 9 is_stmt 1 view .LVU185
 239:Project/Display/ssd1306.c ****     }
 856              		.loc 1 239 12 is_stmt 0 view .LVU186
 857 001c 0134     		adds	r4, r4, #1
 858              	.LVL79:
 859              	.L59:
 232:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 860              		.loc 1 232 11 is_stmt 1 view .LVU187
 232:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 861              		.loc 1 232 12 is_stmt 0 view .LVU188
 862 001e 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 232:Project/Display/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 863              		.loc 1 232 11 view .LVU189
 864 0020 48B1     		cbz	r0, .L60
 233:Project/Display/ssd1306.c ****             // Char could not be written
 865              		.loc 1 233 9 is_stmt 1 view .LVU190
 233:Project/Display/ssd1306.c ****             // Char could not be written
 866              		.loc 1 233 13 is_stmt 0 view .LVU191
 867 0022 2B46     		mov	r3, r5
 868 0024 02AA     		add	r2, sp, #8
 869 0026 12E90600 		ldmdb	r2, {r1, r2}
 870 002a FFF7FEFF 		bl	ssd1306_WriteChar
 871              	.LVL80:
 872 002e 0246     		mov	r2, r0
 233:Project/Display/ssd1306.c ****             // Char could not be written
 873              		.loc 1 233 53 view .LVU192
 874 0030 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 233:Project/Display/ssd1306.c ****             // Char could not be written
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 22


 875              		.loc 1 233 12 view .LVU193
 876 0032 8242     		cmp	r2, r0
 877 0034 F2D0     		beq	.L63
 878              	.L60:
 243:Project/Display/ssd1306.c **** 
 879              		.loc 1 243 1 view .LVU194
 880 0036 03B0     		add	sp, sp, #12
 881              	.LCFI19:
 882              		.cfi_def_cfa_offset 12
 883              		@ sp needed
 884 0038 30BD     		pop	{r4, r5, pc}
 243:Project/Display/ssd1306.c **** 
 885              		.loc 1 243 1 view .LVU195
 886              		.cfi_endproc
 887              	.LFE135:
 889              		.section	.text.ssd1306_DrawLine,"ax",%progbits
 890              		.align	1
 891              		.global	ssd1306_DrawLine
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 895              		.fpu fpv4-sp-d16
 897              	ssd1306_DrawLine:
 898              	.LVL81:
 899              	.LFB137:
 250:Project/Display/ssd1306.c **** 
 251:Project/Display/ssd1306.c **** void ssd1306_DrawLine(uint16_t x1, uint16_t y1, uint16_t x2, uint16_t y2, SSD1306_COLOR color)
 252:Project/Display/ssd1306.c **** {
 900              		.loc 1 252 1 is_stmt 1 view -0
 901              		.cfi_startproc
 902              		@ args = 4, pretend = 0, frame = 16
 903              		@ frame_needed = 0, uses_anonymous_args = 0
 904              		.loc 1 252 1 is_stmt 0 view .LVU197
 905 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 906              	.LCFI20:
 907              		.cfi_def_cfa_offset 36
 908              		.cfi_offset 4, -36
 909              		.cfi_offset 5, -32
 910              		.cfi_offset 6, -28
 911              		.cfi_offset 7, -24
 912              		.cfi_offset 8, -20
 913              		.cfi_offset 9, -16
 914              		.cfi_offset 10, -12
 915              		.cfi_offset 11, -8
 916              		.cfi_offset 14, -4
 917 0004 85B0     		sub	sp, sp, #20
 918              	.LCFI21:
 919              		.cfi_def_cfa_offset 56
 920 0006 9DF83840 		ldrb	r4, [sp, #56]	@ zero_extendqisi2
 921 000a 0194     		str	r4, [sp, #4]
 253:Project/Display/ssd1306.c **** 	uint16_t t;
 922              		.loc 1 253 2 is_stmt 1 view .LVU198
 254:Project/Display/ssd1306.c **** 	int xerr = 0, yerr = 0, delta_x, delta_y, distance;
 923              		.loc 1 254 2 view .LVU199
 924              	.LVL82:
 255:Project/Display/ssd1306.c **** 	int incx, incy, uRow, uCol;
 925              		.loc 1 255 2 view .LVU200
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 23


 256:Project/Display/ssd1306.c **** 
 257:Project/Display/ssd1306.c **** 	delta_x = x2 - x1;
 926              		.loc 1 257 2 view .LVU201
 927              		.loc 1 257 15 is_stmt 0 view .LVU202
 928 000c 8046     		mov	r8, r0
 929              		.loc 1 257 10 view .LVU203
 930 000e A2EB000B 		sub	fp, r2, r0
 931              	.LVL83:
 258:Project/Display/ssd1306.c **** 	delta_y = y2 - y1;
 932              		.loc 1 258 2 is_stmt 1 view .LVU204
 933              		.loc 1 258 15 is_stmt 0 view .LVU205
 934 0012 8946     		mov	r9, r1
 935              		.loc 1 258 10 view .LVU206
 936 0014 A3EB010A 		sub	r10, r3, r1
 937              	.LVL84:
 259:Project/Display/ssd1306.c **** 
 260:Project/Display/ssd1306.c **** 	uRow = x1;
 938              		.loc 1 260 2 is_stmt 1 view .LVU207
 261:Project/Display/ssd1306.c **** 	uCol = y1;
 939              		.loc 1 261 2 view .LVU208
 262:Project/Display/ssd1306.c **** 
 263:Project/Display/ssd1306.c **** 	if (delta_x > 0)
 940              		.loc 1 263 2 view .LVU209
 941              		.loc 1 263 5 is_stmt 0 view .LVU210
 942 0018 BBF1000F 		cmp	fp, #0
 943 001c 0DDD     		ble	.L78
 264:Project/Display/ssd1306.c **** 		incx = 1;
 944              		.loc 1 264 8 view .LVU211
 945 001e 0123     		movs	r3, #1
 946              	.LVL85:
 947              		.loc 1 264 8 view .LVU212
 948 0020 0293     		str	r3, [sp, #8]
 949              	.L65:
 950              	.LVL86:
 265:Project/Display/ssd1306.c **** 	else if (delta_x == 0)
 266:Project/Display/ssd1306.c **** 		incx = 0;
 267:Project/Display/ssd1306.c **** 	else {
 268:Project/Display/ssd1306.c **** 		incx = -1;
 269:Project/Display/ssd1306.c **** 		delta_x = -delta_x;
 270:Project/Display/ssd1306.c **** 	}
 271:Project/Display/ssd1306.c **** 
 272:Project/Display/ssd1306.c **** 	if (delta_y > 0)
 951              		.loc 1 272 2 is_stmt 1 view .LVU213
 952              		.loc 1 272 5 is_stmt 0 view .LVU214
 953 0022 BAF1000F 		cmp	r10, #0
 954 0026 14DD     		ble	.L79
 273:Project/Display/ssd1306.c **** 		incy = 1;
 955              		.loc 1 273 8 view .LVU215
 956 0028 0123     		movs	r3, #1
 957 002a 0393     		str	r3, [sp, #12]
 958              	.L66:
 959              	.LVL87:
 274:Project/Display/ssd1306.c **** 	else if (delta_y == 0)
 275:Project/Display/ssd1306.c **** 		incy = 0;
 276:Project/Display/ssd1306.c **** 	else {
 277:Project/Display/ssd1306.c **** 		incy = -1;
 278:Project/Display/ssd1306.c **** 		delta_y = -delta_x;
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 24


 279:Project/Display/ssd1306.c **** 	}
 280:Project/Display/ssd1306.c **** 	if (delta_x > delta_y)
 960              		.loc 1 280 2 is_stmt 1 view .LVU216
 961              		.loc 1 280 5 is_stmt 0 view .LVU217
 962 002c D345     		cmp	fp, r10
 963 002e 1CDD     		ble	.L76
 281:Project/Display/ssd1306.c **** 		distance = delta_x;
 964              		.loc 1 281 12 view .LVU218
 965 0030 5E46     		mov	r6, fp
 966              	.L67:
 967              	.LVL88:
 282:Project/Display/ssd1306.c **** 	else
 283:Project/Display/ssd1306.c **** 		distance = delta_y;
 284:Project/Display/ssd1306.c **** 
 285:Project/Display/ssd1306.c **** 	for (t = 0; t <= distance; t++) {
 968              		.loc 1 285 2 is_stmt 1 view .LVU219
 254:Project/Display/ssd1306.c **** 	int incx, incy, uRow, uCol;
 969              		.loc 1 254 16 is_stmt 0 view .LVU220
 970 0032 0025     		movs	r5, #0
 254:Project/Display/ssd1306.c **** 	int incx, incy, uRow, uCol;
 971              		.loc 1 254 6 view .LVU221
 972 0034 2F46     		mov	r7, r5
 973              		.loc 1 285 9 view .LVU222
 974 0036 2C46     		mov	r4, r5
 975              		.loc 1 285 2 view .LVU223
 976 0038 1BE0     		b	.L68
 977              	.LVL89:
 978              	.L78:
 265:Project/Display/ssd1306.c **** 		incx = 0;
 979              		.loc 1 265 7 is_stmt 1 view .LVU224
 265:Project/Display/ssd1306.c **** 		incx = 0;
 980              		.loc 1 265 10 is_stmt 0 view .LVU225
 981 003a BBF1000F 		cmp	fp, #0
 982 003e 05D0     		beq	.L73
 268:Project/Display/ssd1306.c **** 		delta_x = -delta_x;
 983              		.loc 1 268 3 is_stmt 1 view .LVU226
 984              	.LVL90:
 269:Project/Display/ssd1306.c **** 	}
 985              		.loc 1 269 3 view .LVU227
 269:Project/Display/ssd1306.c **** 	}
 986              		.loc 1 269 11 is_stmt 0 view .LVU228
 987 0040 A0EB020B 		sub	fp, r0, r2
 988              	.LVL91:
 268:Project/Display/ssd1306.c **** 		delta_x = -delta_x;
 989              		.loc 1 268 8 view .LVU229
 990 0044 4FF0FF33 		mov	r3, #-1
 991              	.LVL92:
 268:Project/Display/ssd1306.c **** 		delta_x = -delta_x;
 992              		.loc 1 268 8 view .LVU230
 993 0048 0293     		str	r3, [sp, #8]
 994 004a EAE7     		b	.L65
 995              	.LVL93:
 996              	.L73:
 266:Project/Display/ssd1306.c **** 	else {
 997              		.loc 1 266 8 view .LVU231
 998 004c CDF808B0 		str	fp, [sp, #8]
 999 0050 E7E7     		b	.L65
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 25


 1000              	.LVL94:
 1001              	.L79:
 274:Project/Display/ssd1306.c **** 		incy = 0;
 1002              		.loc 1 274 7 is_stmt 1 view .LVU232
 274:Project/Display/ssd1306.c **** 		incy = 0;
 1003              		.loc 1 274 10 is_stmt 0 view .LVU233
 1004 0052 BAF1000F 		cmp	r10, #0
 1005 0056 05D0     		beq	.L75
 277:Project/Display/ssd1306.c **** 		delta_y = -delta_x;
 1006              		.loc 1 277 3 is_stmt 1 view .LVU234
 1007              	.LVL95:
 278:Project/Display/ssd1306.c **** 	}
 1008              		.loc 1 278 3 view .LVU235
 278:Project/Display/ssd1306.c **** 	}
 1009              		.loc 1 278 11 is_stmt 0 view .LVU236
 1010 0058 CBF1000A 		rsb	r10, fp, #0
 1011              	.LVL96:
 277:Project/Display/ssd1306.c **** 		delta_y = -delta_x;
 1012              		.loc 1 277 8 view .LVU237
 1013 005c 4FF0FF33 		mov	r3, #-1
 1014 0060 0393     		str	r3, [sp, #12]
 1015 0062 E3E7     		b	.L66
 1016              	.LVL97:
 1017              	.L75:
 275:Project/Display/ssd1306.c **** 	else {
 1018              		.loc 1 275 8 view .LVU238
 1019 0064 CDF80CA0 		str	r10, [sp, #12]
 1020 0068 E0E7     		b	.L66
 1021              	.LVL98:
 1022              	.L76:
 283:Project/Display/ssd1306.c **** 
 1023              		.loc 1 283 12 view .LVU239
 1024 006a 5646     		mov	r6, r10
 1025 006c E1E7     		b	.L67
 1026              	.LVL99:
 1027              	.L70:
 1028              		.loc 1 285 29 is_stmt 1 discriminator 2 view .LVU240
 1029              		.loc 1 285 30 is_stmt 0 discriminator 2 view .LVU241
 1030 006e 0134     		adds	r4, r4, #1
 1031              	.LVL100:
 1032              		.loc 1 285 30 discriminator 2 view .LVU242
 1033 0070 A4B2     		uxth	r4, r4
 1034              	.LVL101:
 1035              	.L68:
 1036              		.loc 1 285 14 is_stmt 1 discriminator 1 view .LVU243
 1037              		.loc 1 285 2 is_stmt 0 discriminator 1 view .LVU244
 1038 0072 B442     		cmp	r4, r6
 1039 0074 13DC     		bgt	.L80
 286:Project/Display/ssd1306.c **** 		ssd1306_DrawPixel(uRow, uCol, color);
 1040              		.loc 1 286 3 is_stmt 1 view .LVU245
 1041 0076 019A     		ldr	r2, [sp, #4]
 1042 0078 5FFA89F1 		uxtb	r1, r9
 1043 007c 5FFA88F0 		uxtb	r0, r8
 1044 0080 FFF7FEFF 		bl	ssd1306_DrawPixel
 1045              	.LVL102:
 287:Project/Display/ssd1306.c **** 		xerr += delta_x;
 1046              		.loc 1 287 3 view .LVU246
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 26


 1047              		.loc 1 287 8 is_stmt 0 view .LVU247
 1048 0084 5F44     		add	r7, r7, fp
 1049              	.LVL103:
 288:Project/Display/ssd1306.c **** 		yerr += delta_y;
 1050              		.loc 1 288 3 is_stmt 1 view .LVU248
 1051              		.loc 1 288 8 is_stmt 0 view .LVU249
 1052 0086 5544     		add	r5, r5, r10
 1053              	.LVL104:
 289:Project/Display/ssd1306.c **** 		if (xerr > distance) {
 1054              		.loc 1 289 3 is_stmt 1 view .LVU250
 1055              		.loc 1 289 6 is_stmt 0 view .LVU251
 1056 0088 BE42     		cmp	r6, r7
 1057 008a 02DA     		bge	.L69
 290:Project/Display/ssd1306.c **** 			xerr -= distance;
 1058              		.loc 1 290 4 is_stmt 1 view .LVU252
 1059              		.loc 1 290 9 is_stmt 0 view .LVU253
 1060 008c BF1B     		subs	r7, r7, r6
 1061              	.LVL105:
 291:Project/Display/ssd1306.c **** 			uRow += incx;
 1062              		.loc 1 291 4 is_stmt 1 view .LVU254
 1063              		.loc 1 291 9 is_stmt 0 view .LVU255
 1064 008e 029B     		ldr	r3, [sp, #8]
 1065 0090 9844     		add	r8, r8, r3
 1066              	.LVL106:
 1067              	.L69:
 292:Project/Display/ssd1306.c **** 		}
 293:Project/Display/ssd1306.c **** 		if (yerr > distance) {
 1068              		.loc 1 293 3 is_stmt 1 view .LVU256
 1069              		.loc 1 293 6 is_stmt 0 view .LVU257
 1070 0092 AE42     		cmp	r6, r5
 1071 0094 EBDA     		bge	.L70
 294:Project/Display/ssd1306.c **** 			yerr -= distance;
 1072              		.loc 1 294 4 is_stmt 1 view .LVU258
 1073              		.loc 1 294 9 is_stmt 0 view .LVU259
 1074 0096 AD1B     		subs	r5, r5, r6
 1075              	.LVL107:
 295:Project/Display/ssd1306.c **** 			uCol += incy;
 1076              		.loc 1 295 4 is_stmt 1 view .LVU260
 1077              		.loc 1 295 9 is_stmt 0 view .LVU261
 1078 0098 039B     		ldr	r3, [sp, #12]
 1079 009a 9944     		add	r9, r9, r3
 1080              	.LVL108:
 1081              		.loc 1 295 9 view .LVU262
 1082 009c E7E7     		b	.L70
 1083              	.L80:
 296:Project/Display/ssd1306.c **** 		}
 297:Project/Display/ssd1306.c **** 	}
 298:Project/Display/ssd1306.c **** }...
 1084              		.loc 1 298 1 view .LVU263
 1085 009e 05B0     		add	sp, sp, #20
 1086              	.LCFI22:
 1087              		.cfi_def_cfa_offset 36
 1088              		@ sp needed
 1089 00a0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1090              		.loc 1 298 1 view .LVU264
 1091              		.cfi_endproc
 1092              	.LFE137:
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 27


 1094              		.global	SSD1306
 1095              		.global	SSD1306_Buffer
 1096              		.section	.bss.SSD1306,"aw",%nobits
 1097              		.align	2
 1098              		.set	.LANCHOR1,. + 0
 1101              	SSD1306:
 1102 0000 00000000 		.space	6
 1102      0000
 1103              		.section	.bss.SSD1306_Buffer,"aw",%nobits
 1104              		.align	2
 1105              		.set	.LANCHOR0,. + 0
 1108              	SSD1306_Buffer:
 1109 0000 00000000 		.space	1024
 1109      00000000 
 1109      00000000 
 1109      00000000 
 1109      00000000 
 1110              		.text
 1111              	.Letext0:
 1112              		.file 2 "/usr/local/Caskroom/gcc-arm-embedded/10-2020-q4-major/gcc-arm-none-eabi-10-2020-q4-major/
 1113              		.file 3 "/usr/local/Caskroom/gcc-arm-embedded/10-2020-q4-major/gcc-arm-none-eabi-10-2020-q4-major/
 1114              		.file 4 "/usr/local/Caskroom/gcc-arm-embedded/10-2020-q4-major/gcc-arm-none-eabi-10-2020-q4-major/
 1115              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f373xc.h"
 1116              		.file 6 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1117              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1118              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_i2c.h"
 1119              		.file 9 "Project/Display/ips_font.h"
 1120              		.file 10 "Project/Display/ssd1306.h"
 1121              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ssd1306.c
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:18     .text.ssd1306_Reset:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:26     .text.ssd1306_Reset:0000000000000000 ssd1306_Reset
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:40     .text.ssd1306_WriteCommand:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:47     .text.ssd1306_WriteCommand:0000000000000000 ssd1306_WriteCommand
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:86     .text.ssd1306_WriteCommand:0000000000000028 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:91     .text.ssd1306_WriteMultipleCommand:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:98     .text.ssd1306_WriteMultipleCommand:0000000000000000 ssd1306_WriteMultipleCommand
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:138    .text.ssd1306_WriteMultipleCommand:0000000000000024 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:143    .text.ssd1306_WriteData:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:150    .text.ssd1306_WriteData:0000000000000000 ssd1306_WriteData
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:190    .text.ssd1306_WriteData:0000000000000024 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:195    .text.ssd1306_Fill:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:202    .text.ssd1306_Fill:0000000000000000 ssd1306_Fill
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:245    .text.ssd1306_Fill:000000000000001c $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:250    .text.ssd1306_UpdateScreen:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:257    .text.ssd1306_UpdateScreen:0000000000000000 ssd1306_UpdateScreen
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:334    .text.ssd1306_UpdateScreen:0000000000000048 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:339    .text.ssd1306_Init:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:346    .text.ssd1306_Init:0000000000000000 ssd1306_Init
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:498    .text.ssd1306_Init:00000000000000c8 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:503    .text.ssd1306_DrawPixel:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:510    .text.ssd1306_DrawPixel:0000000000000000 ssd1306_DrawPixel
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:588    .text.ssd1306_DrawPixel:000000000000004c $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:594    .text.ssd1306_WriteChar:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:601    .text.ssd1306_WriteChar:0000000000000000 ssd1306_WriteChar
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:779    .text.ssd1306_WriteChar:00000000000000b8 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:784    .text.ssd1306_SetCursor:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:791    .text.ssd1306_SetCursor:0000000000000000 ssd1306_SetCursor
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:811    .text.ssd1306_SetCursor:0000000000000008 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:816    .text.ssd1306_WriteString:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:823    .text.ssd1306_WriteString:0000000000000000 ssd1306_WriteString
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:890    .text.ssd1306_DrawLine:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:897    .text.ssd1306_DrawLine:0000000000000000 ssd1306_DrawLine
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:1101   .bss.SSD1306:0000000000000000 SSD1306
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:1108   .bss.SSD1306_Buffer:0000000000000000 SSD1306_Buffer
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:1097   .bss.SSD1306:0000000000000000 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//cc6tpImK.s:1104   .bss.SSD1306_Buffer:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
hi2c1
HAL_Delay
