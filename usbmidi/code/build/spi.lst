ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_SPI2_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_SPI2_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MX_SPI2_Init:
  27              	.LFB126:
  28              		.file 1 "Src/spi.c"
   1:Src/spi.c     **** /**
   2:Src/spi.c     ****   ******************************************************************************
   3:Src/spi.c     ****   * File Name          : SPI.c
   4:Src/spi.c     ****   * Description        : This file provides code for the configuration
   5:Src/spi.c     ****   *                      of the SPI instances.
   6:Src/spi.c     ****   ******************************************************************************
   7:Src/spi.c     ****   * This notice applies to any and all portions of this file
   8:Src/spi.c     ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/spi.c     ****   * USER CODE END. Other portions of this file, whether 
  10:Src/spi.c     ****   * inserted by the user or by software development tools
  11:Src/spi.c     ****   * are owned by their respective copyright owners.
  12:Src/spi.c     ****   *
  13:Src/spi.c     ****   * Copyright (c) 2020 STMicroelectronics International N.V. 
  14:Src/spi.c     ****   * All rights reserved.
  15:Src/spi.c     ****   *
  16:Src/spi.c     ****   * Redistribution and use in source and binary forms, with or without 
  17:Src/spi.c     ****   * modification, are permitted, provided that the following conditions are met:
  18:Src/spi.c     ****   *
  19:Src/spi.c     ****   * 1. Redistribution of source code must retain the above copyright notice, 
  20:Src/spi.c     ****   *    this list of conditions and the following disclaimer.
  21:Src/spi.c     ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:Src/spi.c     ****   *    this list of conditions and the following disclaimer in the documentation
  23:Src/spi.c     ****   *    and/or other materials provided with the distribution.
  24:Src/spi.c     ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  25:Src/spi.c     ****   *    contributors to this software may be used to endorse or promote products 
  26:Src/spi.c     ****   *    derived from this software without specific written permission.
  27:Src/spi.c     ****   * 4. This software, including modifications and/or derivative works of this 
  28:Src/spi.c     ****   *    software, must execute solely and exclusively on microcontroller or
  29:Src/spi.c     ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  30:Src/spi.c     ****   * 5. Redistribution and use of this software other than as permitted under 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 2


  31:Src/spi.c     ****   *    this license is void and will automatically terminate your rights under 
  32:Src/spi.c     ****   *    this license. 
  33:Src/spi.c     ****   *
  34:Src/spi.c     ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  35:Src/spi.c     ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  36:Src/spi.c     ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  37:Src/spi.c     ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  38:Src/spi.c     ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  39:Src/spi.c     ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  40:Src/spi.c     ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  41:Src/spi.c     ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  42:Src/spi.c     ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  43:Src/spi.c     ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  44:Src/spi.c     ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  45:Src/spi.c     ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  46:Src/spi.c     ****   *
  47:Src/spi.c     ****   ******************************************************************************
  48:Src/spi.c     ****   */
  49:Src/spi.c     **** 
  50:Src/spi.c     **** /* Includes ------------------------------------------------------------------*/
  51:Src/spi.c     **** #include "spi.h"
  52:Src/spi.c     **** 
  53:Src/spi.c     **** /* USER CODE BEGIN 0 */
  54:Src/spi.c     **** 
  55:Src/spi.c     **** /* USER CODE END 0 */
  56:Src/spi.c     **** 
  57:Src/spi.c     **** SPI_HandleTypeDef hspi2;
  58:Src/spi.c     **** DMA_HandleTypeDef hdma_spi2_tx;
  59:Src/spi.c     **** 
  60:Src/spi.c     **** /* SPI2 init function */
  61:Src/spi.c     **** void MX_SPI2_Init(void)
  62:Src/spi.c     **** {
  29              		.loc 1 62 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  63:Src/spi.c     **** 
  64:Src/spi.c     ****   hspi2.Instance = SPI2;
  38              		.loc 1 64 3 view .LVU1
  39              		.loc 1 64 18 is_stmt 0 view .LVU2
  40 0002 1048     		ldr	r0, .L5
  41 0004 104B     		ldr	r3, .L5+4
  42 0006 0360     		str	r3, [r0]
  65:Src/spi.c     ****   hspi2.Init.Mode = SPI_MODE_MASTER;
  43              		.loc 1 65 3 is_stmt 1 view .LVU3
  44              		.loc 1 65 19 is_stmt 0 view .LVU4
  45 0008 4FF48273 		mov	r3, #260
  46 000c 4360     		str	r3, [r0, #4]
  66:Src/spi.c     ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
  47              		.loc 1 66 3 is_stmt 1 view .LVU5
  48              		.loc 1 66 24 is_stmt 0 view .LVU6
  49 000e 0023     		movs	r3, #0
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 3


  50 0010 8360     		str	r3, [r0, #8]
  67:Src/spi.c     ****   hspi2.Init.DataSize = SPI_DATASIZE_16BIT;
  51              		.loc 1 67 3 is_stmt 1 view .LVU7
  52              		.loc 1 67 23 is_stmt 0 view .LVU8
  53 0012 4FF47062 		mov	r2, #3840
  54 0016 C260     		str	r2, [r0, #12]
  68:Src/spi.c     ****   hspi2.Init.CLKPolarity = SPI_POLARITY_LOW;
  55              		.loc 1 68 3 is_stmt 1 view .LVU9
  56              		.loc 1 68 26 is_stmt 0 view .LVU10
  57 0018 0361     		str	r3, [r0, #16]
  69:Src/spi.c     ****   hspi2.Init.CLKPhase = SPI_PHASE_1EDGE;
  58              		.loc 1 69 3 is_stmt 1 view .LVU11
  59              		.loc 1 69 23 is_stmt 0 view .LVU12
  60 001a 4361     		str	r3, [r0, #20]
  70:Src/spi.c     ****   hspi2.Init.NSS = SPI_NSS_SOFT;
  61              		.loc 1 70 3 is_stmt 1 view .LVU13
  62              		.loc 1 70 18 is_stmt 0 view .LVU14
  63 001c 4FF40072 		mov	r2, #512
  64 0020 8261     		str	r2, [r0, #24]
  71:Src/spi.c     ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
  65              		.loc 1 71 3 is_stmt 1 view .LVU15
  66              		.loc 1 71 32 is_stmt 0 view .LVU16
  67 0022 C361     		str	r3, [r0, #28]
  72:Src/spi.c     ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
  68              		.loc 1 72 3 is_stmt 1 view .LVU17
  69              		.loc 1 72 23 is_stmt 0 view .LVU18
  70 0024 0362     		str	r3, [r0, #32]
  73:Src/spi.c     ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
  71              		.loc 1 73 3 is_stmt 1 view .LVU19
  72              		.loc 1 73 21 is_stmt 0 view .LVU20
  73 0026 4362     		str	r3, [r0, #36]
  74:Src/spi.c     ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  74              		.loc 1 74 3 is_stmt 1 view .LVU21
  75              		.loc 1 74 29 is_stmt 0 view .LVU22
  76 0028 8362     		str	r3, [r0, #40]
  75:Src/spi.c     ****   hspi2.Init.CRCPolynomial = 7;
  77              		.loc 1 75 3 is_stmt 1 view .LVU23
  78              		.loc 1 75 28 is_stmt 0 view .LVU24
  79 002a 0722     		movs	r2, #7
  80 002c C262     		str	r2, [r0, #44]
  76:Src/spi.c     ****   hspi2.Init.CRCLength = SPI_CRC_LENGTH_DATASIZE;
  81              		.loc 1 76 3 is_stmt 1 view .LVU25
  82              		.loc 1 76 24 is_stmt 0 view .LVU26
  83 002e 0363     		str	r3, [r0, #48]
  77:Src/spi.c     ****   hspi2.Init.NSSPMode = SPI_NSS_PULSE_ENABLE;
  84              		.loc 1 77 3 is_stmt 1 view .LVU27
  85              		.loc 1 77 23 is_stmt 0 view .LVU28
  86 0030 0823     		movs	r3, #8
  87 0032 4363     		str	r3, [r0, #52]
  78:Src/spi.c     ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
  88              		.loc 1 78 3 is_stmt 1 view .LVU29
  89              		.loc 1 78 7 is_stmt 0 view .LVU30
  90 0034 FFF7FEFF 		bl	HAL_SPI_Init
  91              	.LVL0:
  92              		.loc 1 78 6 view .LVU31
  93 0038 00B9     		cbnz	r0, .L4
  94              	.L1:
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 4


  79:Src/spi.c     ****   {
  80:Src/spi.c     ****     Error_Handler();
  81:Src/spi.c     ****   }
  82:Src/spi.c     **** 
  83:Src/spi.c     **** }
  95              		.loc 1 83 1 view .LVU32
  96 003a 08BD     		pop	{r3, pc}
  97              	.L4:
  80:Src/spi.c     ****   }
  98              		.loc 1 80 5 is_stmt 1 view .LVU33
  99 003c FFF7FEFF 		bl	Error_Handler
 100              	.LVL1:
 101              		.loc 1 83 1 is_stmt 0 view .LVU34
 102 0040 FBE7     		b	.L1
 103              	.L6:
 104 0042 00BF     		.align	2
 105              	.L5:
 106 0044 00000000 		.word	.LANCHOR0
 107 0048 00380040 		.word	1073756160
 108              		.cfi_endproc
 109              	.LFE126:
 111              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 112              		.align	1
 113              		.global	HAL_SPI_MspInit
 114              		.syntax unified
 115              		.thumb
 116              		.thumb_func
 117              		.fpu fpv4-sp-d16
 119              	HAL_SPI_MspInit:
 120              	.LVL2:
 121              	.LFB127:
  84:Src/spi.c     **** 
  85:Src/spi.c     **** void HAL_SPI_MspInit(SPI_HandleTypeDef* spiHandle)
  86:Src/spi.c     **** {
 122              		.loc 1 86 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 32
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126              		.loc 1 86 1 is_stmt 0 view .LVU36
 127 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 128              	.LCFI1:
 129              		.cfi_def_cfa_offset 20
 130              		.cfi_offset 4, -20
 131              		.cfi_offset 5, -16
 132              		.cfi_offset 6, -12
 133              		.cfi_offset 7, -8
 134              		.cfi_offset 14, -4
 135 0002 89B0     		sub	sp, sp, #36
 136              	.LCFI2:
 137              		.cfi_def_cfa_offset 56
  87:Src/spi.c     **** 
  88:Src/spi.c     ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 138              		.loc 1 88 3 is_stmt 1 view .LVU37
 139              		.loc 1 88 20 is_stmt 0 view .LVU38
 140 0004 0023     		movs	r3, #0
 141 0006 0393     		str	r3, [sp, #12]
 142 0008 0493     		str	r3, [sp, #16]
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 5


 143 000a 0593     		str	r3, [sp, #20]
 144 000c 0693     		str	r3, [sp, #24]
 145 000e 0793     		str	r3, [sp, #28]
  89:Src/spi.c     ****   if(spiHandle->Instance==SPI2)
 146              		.loc 1 89 3 is_stmt 1 view .LVU39
 147              		.loc 1 89 15 is_stmt 0 view .LVU40
 148 0010 0268     		ldr	r2, [r0]
 149              		.loc 1 89 5 view .LVU41
 150 0012 294B     		ldr	r3, .L13
 151 0014 9A42     		cmp	r2, r3
 152 0016 01D0     		beq	.L11
 153              	.LVL3:
 154              	.L7:
  90:Src/spi.c     ****   {
  91:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspInit 0 */
  92:Src/spi.c     **** 
  93:Src/spi.c     ****   /* USER CODE END SPI2_MspInit 0 */
  94:Src/spi.c     ****     /* SPI2 clock enable */
  95:Src/spi.c     ****     __HAL_RCC_SPI2_CLK_ENABLE();
  96:Src/spi.c     ****   
  97:Src/spi.c     ****     __HAL_RCC_GPIOB_CLK_ENABLE();
  98:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
  99:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 100:Src/spi.c     ****     PB15     ------> SPI2_MOSI
 101:Src/spi.c     ****     PD8     ------> SPI2_SCK 
 102:Src/spi.c     ****     */
 103:Src/spi.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_15;
 104:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 105:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 106:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 107:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 108:Src/spi.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 109:Src/spi.c     **** 
 110:Src/spi.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_8;
 111:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 112:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 113:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 114:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 115:Src/spi.c     ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 116:Src/spi.c     **** 
 117:Src/spi.c     ****     /* SPI2 DMA Init */
 118:Src/spi.c     ****     /* SPI2_TX Init */
 119:Src/spi.c     ****     hdma_spi2_tx.Instance = DMA1_Channel5;
 120:Src/spi.c     ****     hdma_spi2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 121:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 122:Src/spi.c     ****     hdma_spi2_tx.Init.MemInc = DMA_MINC_ENABLE;
 123:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 124:Src/spi.c     ****     hdma_spi2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 125:Src/spi.c     ****     hdma_spi2_tx.Init.Mode = DMA_NORMAL;
 126:Src/spi.c     ****     hdma_spi2_tx.Init.Priority = DMA_PRIORITY_LOW;
 127:Src/spi.c     ****     if (HAL_DMA_Init(&hdma_spi2_tx) != HAL_OK)
 128:Src/spi.c     ****     {
 129:Src/spi.c     ****       Error_Handler();
 130:Src/spi.c     ****     }
 131:Src/spi.c     **** 
 132:Src/spi.c     ****     __HAL_LINKDMA(spiHandle,hdmatx,hdma_spi2_tx);
 133:Src/spi.c     **** 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 6


 134:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspInit 1 */
 135:Src/spi.c     **** 
 136:Src/spi.c     ****   /* USER CODE END SPI2_MspInit 1 */
 137:Src/spi.c     ****   }
 138:Src/spi.c     **** }
 155              		.loc 1 138 1 view .LVU42
 156 0018 09B0     		add	sp, sp, #36
 157              	.LCFI3:
 158              		.cfi_remember_state
 159              		.cfi_def_cfa_offset 20
 160              		@ sp needed
 161 001a F0BD     		pop	{r4, r5, r6, r7, pc}
 162              	.LVL4:
 163              	.L11:
 164              	.LCFI4:
 165              		.cfi_restore_state
 166              		.loc 1 138 1 view .LVU43
 167 001c 0446     		mov	r4, r0
  95:Src/spi.c     ****   
 168              		.loc 1 95 5 is_stmt 1 view .LVU44
 169              	.LBB2:
  95:Src/spi.c     ****   
 170              		.loc 1 95 5 view .LVU45
  95:Src/spi.c     ****   
 171              		.loc 1 95 5 view .LVU46
 172 001e 03F5EC33 		add	r3, r3, #120832
 173 0022 DA69     		ldr	r2, [r3, #28]
 174 0024 42F48042 		orr	r2, r2, #16384
 175 0028 DA61     		str	r2, [r3, #28]
  95:Src/spi.c     ****   
 176              		.loc 1 95 5 view .LVU47
 177 002a DA69     		ldr	r2, [r3, #28]
 178 002c 02F48042 		and	r2, r2, #16384
 179 0030 0092     		str	r2, [sp]
  95:Src/spi.c     ****   
 180              		.loc 1 95 5 view .LVU48
 181 0032 009A     		ldr	r2, [sp]
 182              	.LBE2:
  95:Src/spi.c     ****   
 183              		.loc 1 95 5 view .LVU49
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 184              		.loc 1 97 5 view .LVU50
 185              	.LBB3:
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 186              		.loc 1 97 5 view .LVU51
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 187              		.loc 1 97 5 view .LVU52
 188 0034 5A69     		ldr	r2, [r3, #20]
 189 0036 42F48022 		orr	r2, r2, #262144
 190 003a 5A61     		str	r2, [r3, #20]
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 191              		.loc 1 97 5 view .LVU53
 192 003c 5A69     		ldr	r2, [r3, #20]
 193 003e 02F48022 		and	r2, r2, #262144
 194 0042 0192     		str	r2, [sp, #4]
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 195              		.loc 1 97 5 view .LVU54
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 7


 196 0044 019A     		ldr	r2, [sp, #4]
 197              	.LBE3:
  97:Src/spi.c     ****     __HAL_RCC_GPIOD_CLK_ENABLE();
 198              		.loc 1 97 5 view .LVU55
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 199              		.loc 1 98 5 view .LVU56
 200              	.LBB4:
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 201              		.loc 1 98 5 view .LVU57
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 202              		.loc 1 98 5 view .LVU58
 203 0046 5A69     		ldr	r2, [r3, #20]
 204 0048 42F48012 		orr	r2, r2, #1048576
 205 004c 5A61     		str	r2, [r3, #20]
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 206              		.loc 1 98 5 view .LVU59
 207 004e 5B69     		ldr	r3, [r3, #20]
 208 0050 03F48013 		and	r3, r3, #1048576
 209 0054 0293     		str	r3, [sp, #8]
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 210              		.loc 1 98 5 view .LVU60
 211 0056 029B     		ldr	r3, [sp, #8]
 212              	.LBE4:
  98:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 213              		.loc 1 98 5 view .LVU61
 103:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 214              		.loc 1 103 5 view .LVU62
 103:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 215              		.loc 1 103 25 is_stmt 0 view .LVU63
 216 0058 4FF40043 		mov	r3, #32768
 217 005c 0393     		str	r3, [sp, #12]
 104:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 218              		.loc 1 104 5 is_stmt 1 view .LVU64
 104:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 219              		.loc 1 104 26 is_stmt 0 view .LVU65
 220 005e 0225     		movs	r5, #2
 221 0060 0495     		str	r5, [sp, #16]
 105:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 222              		.loc 1 105 5 is_stmt 1 view .LVU66
 106:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 223              		.loc 1 106 5 view .LVU67
 106:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 224              		.loc 1 106 27 is_stmt 0 view .LVU68
 225 0062 0327     		movs	r7, #3
 226 0064 0697     		str	r7, [sp, #24]
 107:Src/spi.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 227              		.loc 1 107 5 is_stmt 1 view .LVU69
 107:Src/spi.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 228              		.loc 1 107 31 is_stmt 0 view .LVU70
 229 0066 0526     		movs	r6, #5
 230 0068 0796     		str	r6, [sp, #28]
 108:Src/spi.c     **** 
 231              		.loc 1 108 5 is_stmt 1 view .LVU71
 232 006a 03A9     		add	r1, sp, #12
 233 006c 1348     		ldr	r0, .L13+4
 234              	.LVL5:
 108:Src/spi.c     **** 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 8


 235              		.loc 1 108 5 is_stmt 0 view .LVU72
 236 006e FFF7FEFF 		bl	HAL_GPIO_Init
 237              	.LVL6:
 110:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 238              		.loc 1 110 5 is_stmt 1 view .LVU73
 110:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 239              		.loc 1 110 25 is_stmt 0 view .LVU74
 240 0072 4FF48073 		mov	r3, #256
 241 0076 0393     		str	r3, [sp, #12]
 111:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 242              		.loc 1 111 5 is_stmt 1 view .LVU75
 111:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 243              		.loc 1 111 26 is_stmt 0 view .LVU76
 244 0078 0495     		str	r5, [sp, #16]
 112:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 245              		.loc 1 112 5 is_stmt 1 view .LVU77
 112:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 246              		.loc 1 112 26 is_stmt 0 view .LVU78
 247 007a 0025     		movs	r5, #0
 248 007c 0595     		str	r5, [sp, #20]
 113:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 249              		.loc 1 113 5 is_stmt 1 view .LVU79
 113:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 250              		.loc 1 113 27 is_stmt 0 view .LVU80
 251 007e 0697     		str	r7, [sp, #24]
 114:Src/spi.c     ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 252              		.loc 1 114 5 is_stmt 1 view .LVU81
 114:Src/spi.c     ****     HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);
 253              		.loc 1 114 31 is_stmt 0 view .LVU82
 254 0080 0796     		str	r6, [sp, #28]
 115:Src/spi.c     **** 
 255              		.loc 1 115 5 is_stmt 1 view .LVU83
 256 0082 03A9     		add	r1, sp, #12
 257 0084 0E48     		ldr	r0, .L13+8
 258 0086 FFF7FEFF 		bl	HAL_GPIO_Init
 259              	.LVL7:
 119:Src/spi.c     ****     hdma_spi2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 260              		.loc 1 119 5 view .LVU84
 119:Src/spi.c     ****     hdma_spi2_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 261              		.loc 1 119 27 is_stmt 0 view .LVU85
 262 008a 0E48     		ldr	r0, .L13+12
 263 008c 0E4B     		ldr	r3, .L13+16
 264 008e 0360     		str	r3, [r0]
 120:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 265              		.loc 1 120 5 is_stmt 1 view .LVU86
 120:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphInc = DMA_PINC_DISABLE;
 266              		.loc 1 120 33 is_stmt 0 view .LVU87
 267 0090 1023     		movs	r3, #16
 268 0092 4360     		str	r3, [r0, #4]
 121:Src/spi.c     ****     hdma_spi2_tx.Init.MemInc = DMA_MINC_ENABLE;
 269              		.loc 1 121 5 is_stmt 1 view .LVU88
 121:Src/spi.c     ****     hdma_spi2_tx.Init.MemInc = DMA_MINC_ENABLE;
 270              		.loc 1 121 33 is_stmt 0 view .LVU89
 271 0094 8560     		str	r5, [r0, #8]
 122:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 272              		.loc 1 122 5 is_stmt 1 view .LVU90
 122:Src/spi.c     ****     hdma_spi2_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 9


 273              		.loc 1 122 30 is_stmt 0 view .LVU91
 274 0096 8023     		movs	r3, #128
 275 0098 C360     		str	r3, [r0, #12]
 123:Src/spi.c     ****     hdma_spi2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 276              		.loc 1 123 5 is_stmt 1 view .LVU92
 123:Src/spi.c     ****     hdma_spi2_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 277              		.loc 1 123 43 is_stmt 0 view .LVU93
 278 009a 0561     		str	r5, [r0, #16]
 124:Src/spi.c     ****     hdma_spi2_tx.Init.Mode = DMA_NORMAL;
 279              		.loc 1 124 5 is_stmt 1 view .LVU94
 124:Src/spi.c     ****     hdma_spi2_tx.Init.Mode = DMA_NORMAL;
 280              		.loc 1 124 40 is_stmt 0 view .LVU95
 281 009c 4561     		str	r5, [r0, #20]
 125:Src/spi.c     ****     hdma_spi2_tx.Init.Priority = DMA_PRIORITY_LOW;
 282              		.loc 1 125 5 is_stmt 1 view .LVU96
 125:Src/spi.c     ****     hdma_spi2_tx.Init.Priority = DMA_PRIORITY_LOW;
 283              		.loc 1 125 28 is_stmt 0 view .LVU97
 284 009e 8561     		str	r5, [r0, #24]
 126:Src/spi.c     ****     if (HAL_DMA_Init(&hdma_spi2_tx) != HAL_OK)
 285              		.loc 1 126 5 is_stmt 1 view .LVU98
 126:Src/spi.c     ****     if (HAL_DMA_Init(&hdma_spi2_tx) != HAL_OK)
 286              		.loc 1 126 32 is_stmt 0 view .LVU99
 287 00a0 C561     		str	r5, [r0, #28]
 127:Src/spi.c     ****     {
 288              		.loc 1 127 5 is_stmt 1 view .LVU100
 127:Src/spi.c     ****     {
 289              		.loc 1 127 9 is_stmt 0 view .LVU101
 290 00a2 FFF7FEFF 		bl	HAL_DMA_Init
 291              	.LVL8:
 127:Src/spi.c     ****     {
 292              		.loc 1 127 8 view .LVU102
 293 00a6 18B9     		cbnz	r0, .L12
 294              	.L9:
 132:Src/spi.c     **** 
 295              		.loc 1 132 5 is_stmt 1 view .LVU103
 132:Src/spi.c     **** 
 296              		.loc 1 132 5 view .LVU104
 297 00a8 064B     		ldr	r3, .L13+12
 298 00aa 6365     		str	r3, [r4, #84]
 132:Src/spi.c     **** 
 299              		.loc 1 132 5 view .LVU105
 300 00ac 5C62     		str	r4, [r3, #36]
 132:Src/spi.c     **** 
 301              		.loc 1 132 5 view .LVU106
 302              		.loc 1 138 1 is_stmt 0 view .LVU107
 303 00ae B3E7     		b	.L7
 304              	.L12:
 129:Src/spi.c     ****     }
 305              		.loc 1 129 7 is_stmt 1 view .LVU108
 306 00b0 FFF7FEFF 		bl	Error_Handler
 307              	.LVL9:
 308 00b4 F8E7     		b	.L9
 309              	.L14:
 310 00b6 00BF     		.align	2
 311              	.L13:
 312 00b8 00380040 		.word	1073756160
 313 00bc 00040048 		.word	1207960576
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 10


 314 00c0 000C0048 		.word	1207962624
 315 00c4 00000000 		.word	.LANCHOR1
 316 00c8 58000240 		.word	1073872984
 317              		.cfi_endproc
 318              	.LFE127:
 320              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 321              		.align	1
 322              		.global	HAL_SPI_MspDeInit
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 326              		.fpu fpv4-sp-d16
 328              	HAL_SPI_MspDeInit:
 329              	.LVL10:
 330              	.LFB128:
 139:Src/spi.c     **** 
 140:Src/spi.c     **** void HAL_SPI_MspDeInit(SPI_HandleTypeDef* spiHandle)
 141:Src/spi.c     **** {
 331              		.loc 1 141 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 142:Src/spi.c     **** 
 143:Src/spi.c     ****   if(spiHandle->Instance==SPI2)
 335              		.loc 1 143 3 view .LVU110
 336              		.loc 1 143 15 is_stmt 0 view .LVU111
 337 0000 0268     		ldr	r2, [r0]
 338              		.loc 1 143 5 view .LVU112
 339 0002 0C4B     		ldr	r3, .L22
 340 0004 9A42     		cmp	r2, r3
 341 0006 00D0     		beq	.L21
 342 0008 7047     		bx	lr
 343              	.L21:
 141:Src/spi.c     **** 
 344              		.loc 1 141 1 view .LVU113
 345 000a 10B5     		push	{r4, lr}
 346              	.LCFI5:
 347              		.cfi_def_cfa_offset 8
 348              		.cfi_offset 4, -8
 349              		.cfi_offset 14, -4
 350 000c 0446     		mov	r4, r0
 144:Src/spi.c     ****   {
 145:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspDeInit 0 */
 146:Src/spi.c     **** 
 147:Src/spi.c     ****   /* USER CODE END SPI2_MspDeInit 0 */
 148:Src/spi.c     ****     /* Peripheral clock disable */
 149:Src/spi.c     ****     __HAL_RCC_SPI2_CLK_DISABLE();
 351              		.loc 1 149 5 is_stmt 1 view .LVU114
 352 000e 0A4A     		ldr	r2, .L22+4
 353 0010 D369     		ldr	r3, [r2, #28]
 354 0012 23F48043 		bic	r3, r3, #16384
 355 0016 D361     		str	r3, [r2, #28]
 150:Src/spi.c     ****   
 151:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 152:Src/spi.c     ****     PB15     ------> SPI2_MOSI
 153:Src/spi.c     ****     PD8     ------> SPI2_SCK 
 154:Src/spi.c     ****     */
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 11


 155:Src/spi.c     ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_15);
 356              		.loc 1 155 5 view .LVU115
 357 0018 4FF40041 		mov	r1, #32768
 358 001c 0748     		ldr	r0, .L22+8
 359              	.LVL11:
 360              		.loc 1 155 5 is_stmt 0 view .LVU116
 361 001e FFF7FEFF 		bl	HAL_GPIO_DeInit
 362              	.LVL12:
 156:Src/spi.c     **** 
 157:Src/spi.c     ****     HAL_GPIO_DeInit(GPIOD, GPIO_PIN_8);
 363              		.loc 1 157 5 is_stmt 1 view .LVU117
 364 0022 4FF48071 		mov	r1, #256
 365 0026 0648     		ldr	r0, .L22+12
 366 0028 FFF7FEFF 		bl	HAL_GPIO_DeInit
 367              	.LVL13:
 158:Src/spi.c     **** 
 159:Src/spi.c     ****     /* SPI2 DMA DeInit */
 160:Src/spi.c     ****     HAL_DMA_DeInit(spiHandle->hdmatx);
 368              		.loc 1 160 5 view .LVU118
 369 002c 606D     		ldr	r0, [r4, #84]
 370 002e FFF7FEFF 		bl	HAL_DMA_DeInit
 371              	.LVL14:
 161:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspDeInit 1 */
 162:Src/spi.c     **** 
 163:Src/spi.c     ****   /* USER CODE END SPI2_MspDeInit 1 */
 164:Src/spi.c     ****   }
 165:Src/spi.c     **** } 
 372              		.loc 1 165 1 is_stmt 0 view .LVU119
 373 0032 10BD     		pop	{r4, pc}
 374              	.LVL15:
 375              	.L23:
 376              		.loc 1 165 1 view .LVU120
 377              		.align	2
 378              	.L22:
 379 0034 00380040 		.word	1073756160
 380 0038 00100240 		.word	1073876992
 381 003c 00040048 		.word	1207960576
 382 0040 000C0048 		.word	1207962624
 383              		.cfi_endproc
 384              	.LFE128:
 386              		.global	hdma_spi2_tx
 387              		.global	hspi2
 388              		.section	.bss.hdma_spi2_tx,"aw",%nobits
 389              		.align	2
 390              		.set	.LANCHOR1,. + 0
 393              	hdma_spi2_tx:
 394 0000 00000000 		.space	68
 394      00000000 
 394      00000000 
 394      00000000 
 394      00000000 
 395              		.section	.bss.hspi2,"aw",%nobits
 396              		.align	2
 397              		.set	.LANCHOR0,. + 0
 400              	hspi2:
 401 0000 00000000 		.space	100
 401      00000000 
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 12


 401      00000000 
 401      00000000 
 401      00000000 
 402              		.text
 403              	.Letext0:
 404              		.file 2 "/usr/local/Caskroom/gcc-arm-embedded/10-2020-q4-major/gcc-arm-none-eabi-10-2020-q4-major/
 405              		.file 3 "/usr/local/Caskroom/gcc-arm-embedded/10-2020-q4-major/gcc-arm-none-eabi-10-2020-q4-major/
 406              		.file 4 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f373xc.h"
 407              		.file 5 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 408              		.file 6 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 409              		.file 7 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 410              		.file 8 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 411              		.file 9 "Inc/spi.h"
 412              		.file 10 "Inc/main.h"
ARM GAS  /var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spi.c
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:18     .text.MX_SPI2_Init:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:26     .text.MX_SPI2_Init:0000000000000000 MX_SPI2_Init
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:106    .text.MX_SPI2_Init:0000000000000044 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:112    .text.HAL_SPI_MspInit:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:119    .text.HAL_SPI_MspInit:0000000000000000 HAL_SPI_MspInit
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:312    .text.HAL_SPI_MspInit:00000000000000b8 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:321    .text.HAL_SPI_MspDeInit:0000000000000000 $t
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:328    .text.HAL_SPI_MspDeInit:0000000000000000 HAL_SPI_MspDeInit
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:379    .text.HAL_SPI_MspDeInit:0000000000000034 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:393    .bss.hdma_spi2_tx:0000000000000000 hdma_spi2_tx
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:400    .bss.hspi2:0000000000000000 hspi2
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:389    .bss.hdma_spi2_tx:0000000000000000 $d
/var/folders/80/65lm4rm97rv_n74c85vt01040000gn/T//ccRXp2EL.s:396    .bss.hspi2:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_SPI_Init
Error_Handler
HAL_GPIO_Init
HAL_DMA_Init
HAL_GPIO_DeInit
HAL_DMA_DeInit
